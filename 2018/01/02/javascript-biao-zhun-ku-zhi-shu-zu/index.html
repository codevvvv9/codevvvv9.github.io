<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/1.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/f1.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/1.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"codevvvv9.github.io","root":"/","scheme":"Mist","version":"7.7.2","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="学习任何编程语言，数组都是绕不过去的坎，每个编程语言都在其标准库里面内置了功能强大的Array对象。通过参考阮一峰教程和MDN,我把数组常见的方法以及一些误区总结如下，内容较多，而且会继续补充，希望这一篇文章可以把数组的知识一网打尽。">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript标准库之数组">
<meta property="og:url" content="https://codevvvv9.github.io/2018/01/02/javascript-biao-zhun-ku-zhi-shu-zu/index.html">
<meta property="og:site_name" content="WuShaolin">
<meta property="og:description" content="学习任何编程语言，数组都是绕不过去的坎，每个编程语言都在其标准库里面内置了功能强大的Array对象。通过参考阮一峰教程和MDN,我把数组常见的方法以及一些误区总结如下，内容较多，而且会继续补充，希望这一篇文章可以把数组的知识一网打尽。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2018-01-02T14:42:38.000Z">
<meta property="article:modified_time" content="2018-11-18T09:46:05.000Z">
<meta property="article:author" content="吴少林">
<meta property="article:tag" content="JavaScript">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://codevvvv9.github.io/2018/01/02/javascript-biao-zhun-ku-zhi-shu-zu/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>JavaScript标准库之数组 | WuShaolin</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="WuShaolin" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">WuShaolin</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">悟已往之不谏，知来者之可追！</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/codevvvv9" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://codevvvv9.github.io/2018/01/02/javascript-biao-zhun-ku-zhi-shu-zu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="吴少林">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WuShaolin">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          JavaScript标准库之数组
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-01-02 22:42:38" itemprop="dateCreated datePublished" datetime="2018-01-02T22:42:38+08:00">2018-01-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2018-11-18 17:46:05" itemprop="dateModified" datetime="2018-11-18T17:46:05+08:00">2018-11-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JS%E8%AF%AD%E6%B3%95%E8%AF%A6%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">JS语法详解</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <blockquote>
<p>学习任何编程语言，数组都是绕不过去的坎，每个编程语言都在其标准库里面内置了功能强大的Array对象。通过参考阮一峰教程和MDN,我把数组常见的方法以及一些误区总结如下，内容较多，而且会继续补充，希望这一篇文章可以把数组的知识一网打尽。</p>
<a id="more"></a>
</blockquote>
<h3 id="1-数组的简单概念"><a href="#1-数组的简单概念" class="headerlink" title="1. 数组的简单概念"></a>1. 数组的简单概念</h3><h4 id="1-1-数组是什么呢？"><a href="#1-1-数组是什么呢？" class="headerlink" title="1.1 数组是什么呢？"></a>1.1 数组是什么呢？</h4><p>编程总要和数据打交道，常见的普通的数据由基本数据类型可以定义，一些具有多重属性、内容的数据就需要复杂的数据类型去定义，也就是对象来定义，数组也是对象的一种。</p>
<ul>
<li>为了方便理解，我们可以认为数组是具有一定顺序的复杂数据的组合(与对象的无序区别)，每个位置对应一个索引，索引从0开始，具有length属性，而且<strong>length属性是可变的</strong>。<h4 id="1-2-数组如何定义"><a href="#1-2-数组如何定义" class="headerlink" title="1.2 数组如何定义"></a>1.2 数组如何定义</h4></li>
<li>第一种方法是通过Array构造函数来定义(该方法并不常用)</li>
</ul>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
undefined
arr1
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>empty × <span class="token number">3</span><span class="token punctuation">]</span>
    length<span class="token punctuation">:</span> <span class="token number">3</span>
    __proto__<span class="token punctuation">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre>
<p>以上是控制台打印结果，构造了一个长度为3的、每个元素为空的数组。</p>
<hr>
<p>以上的写法有个小bug<br>虽然元素为空，但是正常来说，索引应该存在的，但是事实是 索引竟然不存在</p>
<pre class=" language-javascript"><code class="language-javascript">arr1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
undefined
arr1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
undefined
arr1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
undefined
<span class="token number">0</span> <span class="token keyword">in</span> arr1
<span class="token boolean">false</span>
<span class="token number">1</span> <span class="token keyword">in</span> arr1
<span class="token boolean">false</span>
<span class="token number">2</span> <span class="token keyword">in</span> arr1</code></pre>
<p>索引0、1、2处是undefined，完全合理，但是索引不存在，很奇怪</p>
<hr>
<p>而且new不写也是一样的结果。</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr2 <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
undefined
arr2
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>empty × <span class="token number">3</span><span class="token punctuation">]</span>
    length<span class="token punctuation">:</span> <span class="token number">3</span>
    __proto__<span class="token punctuation">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre>
<ul>
<li>但是采用构造函数的这种方法容易产生一些歧义，不同的参数个数，会产生不同的结果。<h5 id="1-2-1-构造函数不写参数"><a href="#1-2-1-构造函数不写参数" class="headerlink" title="1.2.1 构造函数不写参数"></a>1.2.1 构造函数不写参数</h5></li>
</ul>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span>
undefined
arr3
<span class="token punctuation">[</span><span class="token punctuation">]</span>
    length<span class="token punctuation">:</span><span class="token number">0</span>
    __proto__<span class="token punctuation">:</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span></code></pre>
<p>此时构造出空的数组，而且发现构造函数的()写不写都可以</p>
<h5 id="1-2-2-构造函数写1个正整数参数"><a href="#1-2-2-构造函数写1个正整数参数" class="headerlink" title="1.2.2 构造函数写1个正整数参数"></a>1.2.2 构造函数写1个正整数参数</h5><p>那这个正整数参数就是构造出来的数组的长度。</p>
<h5 id="1-2-3-构造函数参数是一个非正整数-字符串、boolean、对象等其他值"><a href="#1-2-3-构造函数参数是一个非正整数-字符串、boolean、对象等其他值" class="headerlink" title="1.2.3 构造函数参数是一个非正整数(字符串、boolean、对象等其他值)"></a>1.2.3 构造函数参数是一个非正整数(字符串、boolean、对象等其他值)</h5><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">'jjj'</span><span class="token punctuation">)</span>
undefined
arr
<span class="token punctuation">[</span><span class="token string">"jjj"</span><span class="token punctuation">]</span>
    <span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">"jjj"</span>
    length<span class="token punctuation">:</span> <span class="token number">1</span>
    __proto__<span class="token punctuation">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
undefined
arr
<span class="token punctuation">[</span><span class="token boolean">false</span><span class="token punctuation">]</span>
    <span class="token number">0</span><span class="token punctuation">:</span> <span class="token boolean">false</span>
    length<span class="token punctuation">:</span> <span class="token number">1</span>
    __proto__<span class="token punctuation">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">'我是一个对象'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
undefined
arr
<span class="token punctuation">[</span><span class="token punctuation">{</span>…<span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token number">0</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">"我是一个对象"</span><span class="token punctuation">}</span>
    length<span class="token punctuation">:</span> <span class="token number">1</span>
    __proto__<span class="token punctuation">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre>
<p>这个非正整数就是数组的内容</p>
<h5 id="1-2-4-构造函数写多个参数"><a href="#1-2-4-构造函数写多个参数" class="headerlink" title="1.2.4 构造函数写多个参数"></a>1.2.4 构造函数写多个参数</h5><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
undefined
arr4
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
    <span class="token number">0</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token number">1</span><span class="token punctuation">:</span> <span class="token number">2</span>
    length<span class="token punctuation">:</span> <span class="token number">2</span>
    __proto__<span class="token punctuation">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre>
<p>此时直接构造出0索引是元素1、1索引是元素2的数组对象。</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">'aa'</span><span class="token punctuation">,</span> <span class="token string">'ff'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
undefined
arr4
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"aa"</span><span class="token punctuation">,</span> <span class="token string">"ff"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">"aa"</span>
    <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">"ff"</span>
    <span class="token number">2</span><span class="token punctuation">:</span> <span class="token number">10</span>
    <span class="token number">3</span><span class="token punctuation">:</span> <span class="token number">0</span>
    length<span class="token punctuation">:</span> <span class="token number">4</span>
    __proto__<span class="token punctuation">:</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre>
<p>即多参数时，所有参数都是返回的新数组的成员</p>
<h5 id="1-2-5-构造函数参数是非正整数，报错"><a href="#1-2-5-构造函数参数是非正整数，报错" class="headerlink" title="1.2.5 构造函数参数是非正整数，报错"></a>1.2.5 构造函数参数是非正整数，报错</h5><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
VM376<span class="token punctuation">:</span><span class="token number">1</span> Uncaught RangeError<span class="token punctuation">:</span> Invalid array length
    at <span class="token operator">&lt;</span>anonymous<span class="token operator">></span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">1</span>
<span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span> @ VM376<span class="token punctuation">:</span><span class="token number">1</span>
<span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">3.2</span><span class="token punctuation">)</span>
VM377<span class="token punctuation">:</span><span class="token number">1</span> Uncaught RangeError<span class="token punctuation">:</span> Invalid array length
    at <span class="token operator">&lt;</span>anonymous<span class="token operator">></span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">1</span>
<span class="token punctuation">(</span>anonymous<span class="token punctuation">)</span> @ VM377<span class="token punctuation">:</span><span class="token number">1</span></code></pre>
<h5 id="1-2-6-数组定义的正确方法"><a href="#1-2-6-数组定义的正确方法" class="headerlink" title="1.2.6 数组定义的正确方法"></a>1.2.6 数组定义的正确方法</h5><p>综上所述，其实实际中直接用字面量定义数组</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'这样子'</span><span class="token punctuation">,</span> <span class="token string">'定义'</span><span class="token punctuation">,</span> <span class="token string">'is'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'good'</span><span class="token punctuation">:</span> <span class="token string">'我是数组索引为5的元素的值'</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
undefined
arr
<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"这样子"</span><span class="token punctuation">,</span> <span class="token string">"定义"</span><span class="token punctuation">,</span> <span class="token string">"is"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>…<span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">"这样子"</span>
    <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">"定义"</span>
    <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">"is"</span>
    <span class="token number">3</span><span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token number">4</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token number">5</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>good<span class="token punctuation">:</span> <span class="token string">"我是数组索引为5的元素的值"</span><span class="token punctuation">}</span>
    length<span class="token punctuation">:</span> <span class="token number">6</span>
    __proto__<span class="token punctuation">:</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="2-数组的length属性解疑"><a href="#2-数组的length属性解疑" class="headerlink" title="2. 数组的length属性解疑"></a>2. 数组的length属性解疑</h3><p>如果你是初学者，一定要记住数组的length属性和里面的元素个数无关，爱几个元素几个元素，length并不是计数的作用。这是我自学是对数组长度最大的误解。<br>正确的理解是：<strong><code>数组的length属性等于最大正整数索引 + 1</code></strong><br>而数组的索引可以随便改变，那么length属性也是一个动态的值，可以变化。</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
undefined
arr
<span class="token punctuation">[</span><span class="token punctuation">]</span>
    length<span class="token punctuation">:</span><span class="token number">0</span>
    __proto__<span class="token punctuation">:</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'我是第10个元素，我前面没有元素，但是数组的长度绝对是11，你信不信'</span>
<span class="token string">"我是第10个元素，我前面没有元素，但是数组的长度绝对是11，你信不信"</span>
arr
<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>empty × <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">"我是第10个元素，我前面没有元素，但是数组的长度绝对是11，你信不信"</span><span class="token punctuation">]</span>
    <span class="token number">10</span><span class="token punctuation">:</span><span class="token string">"我是第10个元素，我前面没有元素，但是数组的长度绝对是11，你信不信"</span>
    length<span class="token punctuation">:</span><span class="token number">11</span>
    __proto__<span class="token punctuation">:</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre>
<p>这个例子一开始是个空数组，长度是0，直接给他一个索引10，可以发现长度立马变为11。</p>
<pre class=" language-javascript"><code class="language-javascript">arr<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'这次数组长度绝对是101'</span>
<span class="token string">"这次数组长度绝对是101"</span>
arr<span class="token punctuation">.</span>length
<span class="token number">101</span></code></pre>
<p>通过以上的例子，我们反向推理，把可以明白数组长度根本不连续，是动态变化的，即数组长度是可写的。唯一的不变真理是，它的长度永远等于最大索引+1。</p>
<h4 id="2-1-把数组清空的方法"><a href="#2-1-把数组清空的方法" class="headerlink" title="2.1 把数组清空的方法"></a>2.1 把数组清空的方法</h4><p>由以上知识可以知道数组长度可以人为改变，进而大胆的猜想，改变长度会不会把数组清空呢？</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arrDemo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'this'</span><span class="token punctuation">,</span> <span class="token string">'is'</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">]</span>
undefined
arrDemo
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"this"</span><span class="token punctuation">,</span> <span class="token string">"is"</span><span class="token punctuation">,</span> <span class="token string">"test"</span><span class="token punctuation">]</span>
    <span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">"this"</span>
    <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">"is"</span>
    <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">"test"</span>
    length<span class="token punctuation">:</span> <span class="token number">3</span>
    __proto__<span class="token punctuation">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
arrDemo<span class="token punctuation">[</span><span class="token string">'length'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>
<span class="token number">2</span>
arrDemo
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"this"</span><span class="token punctuation">,</span> <span class="token string">"is"</span><span class="token punctuation">]</span>
    <span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">"this"</span>
    <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">"is"</span>
    length<span class="token punctuation">:</span> <span class="token number">2</span>
    __proto__<span class="token punctuation">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
arrDemo<span class="token punctuation">[</span><span class="token string">'length'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
<span class="token number">1</span>
arrDemo
<span class="token punctuation">[</span><span class="token string">"this"</span><span class="token punctuation">]</span>
    <span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">"this"</span>
    length<span class="token punctuation">:</span> <span class="token number">1</span>
    __proto__<span class="token punctuation">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
arrDemo<span class="token punctuation">[</span><span class="token string">'length'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
<span class="token number">0</span>
arrDemo
<span class="token punctuation">[</span><span class="token punctuation">]</span>
    length<span class="token punctuation">:</span> <span class="token number">0</span>
    __proto__<span class="token punctuation">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre>
<p>把数组length设为0，证明可以清空数组。</p>
<h4 id="2-2-有趣的一点"><a href="#2-2-有趣的一点" class="headerlink" title="2.2 有趣的一点"></a>2.2 有趣的一点</h4><p>由于数组本质上是对象的一种，所以我们可以为数组添加属性，但是这不影响length属性的值。<br><strong>一定不要有思维定式，以为添加几个新元素，长度就会加几个。</strong></p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
undefined
arr
<span class="token punctuation">[</span><span class="token punctuation">]</span>
    length<span class="token punctuation">:</span><span class="token number">0</span>
    __proto__<span class="token punctuation">:</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
arr<span class="token punctuation">[</span><span class="token string">'add'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'我加一个新元素，长度绝对还是0'</span>
<span class="token string">"我加一个新元素，长度绝对还是0"</span>
arr
<span class="token punctuation">[</span>add<span class="token punctuation">:</span> <span class="token string">"我加一个新元素，长度绝对还是0"</span><span class="token punctuation">]</span>
    add<span class="token punctuation">:</span> <span class="token string">"我加一个新元素，长度绝对还是0"</span>
    length<span class="token punctuation">:</span><span class="token number">0</span>
    __proto__<span class="token punctuation">:</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
arr<span class="token punctuation">[</span><span class="token string">'add1'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'我又加一个新元素，长度绝对还是0'</span>
<span class="token string">"我又加一个新元素，长度绝对还是0"</span>
arr
<span class="token punctuation">[</span>add<span class="token punctuation">:</span> <span class="token string">"我加一个新元素，长度绝对还是0"</span><span class="token punctuation">,</span> add1<span class="token punctuation">:</span> <span class="token string">"我又加一个新元素，长度绝对还是0"</span><span class="token punctuation">]</span>
    add<span class="token punctuation">:</span> <span class="token string">"我加一个新元素，长度绝对还是0"</span>
    add1<span class="token punctuation">:</span> <span class="token string">"我又加一个新元素，长度绝对还是0"</span>
    length<span class="token punctuation">:</span> <span class="token number">0</span>
    __proto__<span class="token punctuation">:</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre>
<p>通过这个例子，一开始元素长度为0，只要你没添加一个正整数的索引，无论你添加多少其他元素，长度永远不会变化。</p>
<ul>
<li>注意：<strong>方括号运算符里面一定要用引号，我总是手抖忘了加。</strong><h3 id="3-伪数组-array-like-object"><a href="#3-伪数组-array-like-object" class="headerlink" title="3. 伪数组(array-like object)"></a>3. 伪数组(array-like object)</h3>如果一个对象的所有键名都是正整数或零，并且有length属性，那么这个对象就很像数组，语法上称为“类似数组的对象”<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span>
  <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">'c'</span><span class="token punctuation">,</span>
  length<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
undefined
obj
<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">"c"</span><span class="token punctuation">,</span> length<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span>
  <span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">"a"</span>
  <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">"b"</span>
  <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">"c"</span>
  length<span class="token punctuation">:</span> <span class="token number">3</span>
  __proto__<span class="token punctuation">:</span> Object
</code></pre>
</li>
</ul>
<p>obj[0]<br>“a”<br>obj[2]<br>“c”</p>
<pre><code>上面的对象，看着结构特别像但是绝对不是数组。
因为__proto__指向的就不是Array的prototype，没有指向Array的共有属性，再怎么想也只是模仿，本质不同。不具备数组的其他方法（第四部分将要列举的方法）。
#### 3.1 数组的本质
由伪数组的问题引出真正的数组应该具备什么特点
![数组.png](http://upload-images.jianshu.io/upload_images/5422064-2a11075ec5717463.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
__proto__必须指向数组的公有属性才是真正的数组对象。
### 4. 数组实例的常见简单的方法(可以无参或者参数很简单)
#### 4.1 判断数组还是对象
```javascript
var arr = ['a']
undefined
Array.isArray(arr)
true
var obj = {
    0: 'a',
    1: 'b',
    2: 'c',
    length: 3,
}
undefined
Array.isArray(obj)
false</code></pre><p>Array.isArray()方法可以判断是不是数组对象，以前学过的instanceOf也可以判断。</p>
<pre class=" language-javascript"><code class="language-javascript">arr <span class="token keyword">instanceof</span> <span class="token class-name">Array</span>
<span class="token boolean">true</span>
obj <span class="token keyword">instanceof</span> <span class="token class-name">Array</span>
<span class="token boolean">false</span></code></pre>
<p>所以现在有两个方法可以区分是数组还是对象了。</p>
<h4 id="4-2-valueOf-，toString"><a href="#4-2-valueOf-，toString" class="headerlink" title="4.2 valueOf()，toString()"></a>4.2 valueOf()，toString()</h4><ul>
<li>valueOf()返回数组本身<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span>
undefined
arr<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">"a,b"</span></code></pre>
</li>
<li>toString()返回数组的字符串形式<h4 id="4-3-push"><a href="#4-3-push" class="headerlink" title="4.3 push()"></a>4.3 push()</h4><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span>
undefined
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'f'</span><span class="token punctuation">)</span>
<span class="token number">3</span>
arr
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"f"</span><span class="token punctuation">]</span></code></pre>
向数组的末尾添加元素，返回添加成功后的数组的长度</li>
</ul>
<p><strong>会改变原数组</strong></p>
<h4 id="4-4-pop"><a href="#4-4-pop" class="headerlink" title="4.4 pop()"></a>4.4 pop()</h4><pre class=" language-javascript"><code class="language-javascript">arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">"f"</span>
arr
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">]</span>
</code></pre>
<p>删除数组的最后一个元素，并返回删除的这个元素。</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// undefined</span></code></pre>
<ul>
<li>注意：对空数组使用pop方法，不会报错，而是返回undefined。<br>这个方法<strong>会改变原数组</strong></li>
</ul>
<hr>
<p>push() 和pop()方法一起使用可以模拟栈这个数据结构</p>
<hr>
<h4 id="4-5-join"><a href="#4-5-join" class="headerlink" title="4.5 join()"></a>4.5 join()</h4><p>以某种形式把数组的所有成员以<strong>字符串的形式返回</strong></p>
<pre class=" language-javascript"><code class="language-javascript">arr
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span>
<span class="token string">"a-b"</span></code></pre>
<p>以上是以中划线的形式连接起来</p>
<pre class=" language-javascript"><code class="language-javascript">arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">"a,b"</span></code></pre>
<p>如果没有规定格式，则以逗号分隔</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'rr'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> undefined<span class="token punctuation">]</span>
undefined
arr
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"rr"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> undefined<span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">"a,rr,,"</span></code></pre>
<ul>
<li>注意：如果字符串中有null和undefined的，会被转成空字符串。<br><strong>该方法不会改变原数组</strong><h4 id="4-6-concat"><a href="#4-6-concat" class="headerlink" title="4.6 concat()"></a>4.6 concat()</h4>是一个专业合并数组的方法。<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'rr'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> undefined<span class="token punctuation">]</span>
undefined
arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'rrr'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"rr"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> undefined<span class="token punctuation">,</span> <span class="token string">"rrr"</span><span class="token punctuation">]</span>
arr
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"rr"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> undefined<span class="token punctuation">]</span></code></pre>
把一个新数组添加到旧数组的后面，返回生成的新数组。</li>
</ul>
<p><strong>不会改变原数组</strong></p>
<h4 id="4-7-shift"><a href="#4-7-shift" class="headerlink" title="4.7 shift()"></a>4.7 shift()</h4><p>删除数组的第一个元素,并返回删除的那个元素</p>
<pre class=" language-javascript"><code class="language-javascript">arr
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"rr"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> undefined<span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">"a"</span>
arr
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"rr"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> undefined<span class="token punctuation">]</span></code></pre>
<p><strong>会改变原数组</strong></p>
<hr>
<p>push()与shift()方法结合，可以模拟队列这个数据结构</p>
<hr>
<h4 id="4-8-unshift"><a href="#4-8-unshift" class="headerlink" title="4.8 unshift()"></a>4.8 unshift()</h4><p>在数组的第一个位置添加元素，并返回添加新元素后的数组长度</p>
<pre class=" language-javascript"><code class="language-javascript">arr
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"rr"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> undefined<span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token string">'ffff'</span><span class="token punctuation">)</span>
<span class="token number">4</span>
arr
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"ffff"</span><span class="token punctuation">,</span> <span class="token string">"rr"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> undefined<span class="token punctuation">]</span></code></pre>
<p>和shift()方法的作用正好相反。<br><strong>一定会改变原数组</strong></p>
<h4 id="4-9-reverse"><a href="#4-9-reverse" class="headerlink" title="4.9 reverse()"></a>4.9 reverse()</h4><p>反转数组，返回反转后的数组</p>
<pre class=" language-javascript"><code class="language-javascript">arr
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"ffff"</span><span class="token punctuation">,</span> <span class="token string">"rr"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> undefined<span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>undefined<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"rr"</span><span class="token punctuation">,</span> <span class="token string">"ffff"</span><span class="token punctuation">]</span>
arr
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>undefined<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"rr"</span><span class="token punctuation">,</span> <span class="token string">"ffff"</span><span class="token punctuation">]</span></code></pre>
<p><strong>会改变原数组</strong></p>
<h4 id="4-10-slice"><a href="#4-10-slice" class="headerlink" title="4.10 slice()"></a>4.10 slice()</h4><p>提取原数组的一部分，返回一个新的数组</p>
<pre class=" language-javascript"><code class="language-javascript">arr
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>undefined<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"rr"</span><span class="token punctuation">,</span> <span class="token string">"ffff"</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"rr"</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>undefined<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"rr"</span><span class="token punctuation">,</span> <span class="token string">"ffff"</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"rr"</span><span class="token punctuation">,</span> <span class="token string">"ffff"</span><span class="token punctuation">]</span>
arr
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>undefined<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"rr"</span><span class="token punctuation">,</span> <span class="token string">"ffff"</span><span class="token punctuation">]</span></code></pre>
<p>arr.slice(1,3)从索引为1的位置开始截取，到索引3停止，但是不包括索引3。<br>arr.slice()无参是原数组的拷贝<br>arr.slice(1)从索引为1的位置开始截取，到末尾。</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// ["b", "c"]</span>
a<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// ["b"]</span></code></pre>
<p>如果slice方法的参数是负数，则表示倒数计算的位置。<br>上面代码中，-2表示倒数计算的第二个位置，-1表示倒数计算的第一个位置。</p>
<hr>
<p>slice()方法可以把伪数组变成真的数组</p>
<hr>
<p><strong>不会改变原数组</strong></p>
<h4 id="4-11-splice"><a href="#4-11-splice" class="headerlink" title="4.11 splice()"></a>4.11 splice()</h4><p>删除原数组的一部分成员，返回被删的元素。</p>
<pre class=" language-javascript"><code class="language-javascript">arr
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>undefined<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"rr"</span><span class="token punctuation">,</span> <span class="token string">"ffff"</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"rr"</span><span class="token punctuation">,</span> <span class="token string">"ffff"</span><span class="token punctuation">]</span>
arr
<span class="token punctuation">[</span>undefined<span class="token punctuation">]</span></code></pre>
<p>arr.splice(1,3)，从索引1开始删除，删3个元素！！！<br>一定要注意和slice区分：splice的第一个参数是删除的起始位置，第二个参数是被删除的元素个数。如果后面还有更多的参数，则表示这些就是要被插入数组的新元素。</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'aaa'</span><span class="token punctuation">,</span> <span class="token string">'ff'</span><span class="token punctuation">,</span> <span class="token string">'aff'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
undefined
arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'wu'</span><span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"aaa"</span><span class="token punctuation">,</span> <span class="token string">"ff"</span><span class="token punctuation">,</span> <span class="token string">"aff"</span><span class="token punctuation">]</span>
arr
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token string">"wu"</span><span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span></code></pre>
<p>arr.splice(1, 3, ‘wu’, 999)，从索引1开始删了3个元素，有加上两个元素，’wu’和999<br>同样的负数表示倒数第几个位置<br><strong>会改变原数组</strong><br>splice()有两个变式</p>
<ul>
<li>变式1:我只是想单纯的插入一个元素<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// []</span>
a <span class="token comment" spellcheck="true">// [1, 2, 1, 1]</span></code></pre>
把第二个参数设为0,就可以在第2个位置插入一个元素了</li>
<li>变式2:我只给一个参数，就是拆分数组，为两个新数组<pre class=" language-javascript"><code class="language-javascript">a
<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1111</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>
a<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1111</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>
a
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span></code></pre>
a.splice(2)从第三个索引处拆分这个数组。<h4 id="4-12-indexOf-，lastIndexOf"><a href="#4-12-indexOf-，lastIndexOf" class="headerlink" title="4.12 indexOf()，lastIndexOf()"></a>4.12 indexOf()，lastIndexOf()</h4>```javascript<br>var arr = [‘a’, ‘f’, ‘f’, 1]<br>undefined<br>arr<br>(4) [“a”, “f”, “f”, 1]<br>  0: “a”<br>  1: “f”<br>  2: “f”<br>  3: 1<br>  length: 4<br>  <strong>proto</strong>: Array(0)<br>arr.indexOf(1)<br>3<br>arr.indexOf(‘f’, 3)</li>
<li>1<br>arr.lastIndexOf(‘f’)<br>2<br>```<br>indexOf()，返回括号里面 的元素第一次出现的位置。<br>如果有两个参数则是表示搜索的位置从第二个参数开始。<br>如果找不到该元素，则返回-1。<br>lastIndexOf()返回括号里面的元素最后一次出现的位置。</li>
<li>一个MDN的实战例子：获得数组里面某个元素出现的所有位置(利用循环和返回值-1的特点)<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arrTemp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//空数组用来存储目标元素出现的所有索引</span>
<span class="token keyword">var</span> element <span class="token operator">=</span> <span class="token string">'a'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> index <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>index <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  arrTemp<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
  index <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrTemp<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true">//'a'出现在0、2、4索引位置处</span></code></pre>
</li>
</ul>
<hr>
<p>注意：这里有个例外<br>数组里面包含NaN时无法判断</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'f'</span><span class="token punctuation">,</span> <span class="token string">'f'</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">]</span>
undefined
arr
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"f"</span><span class="token punctuation">,</span> <span class="token string">"f"</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">]</span>
    <span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">"a"</span>
    <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">"f"</span>
    <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">"f"</span>
    <span class="token number">3</span><span class="token punctuation">:</span> <span class="token number">NaN</span>
    length<span class="token punctuation">:</span> <span class="token number">4</span>
    __proto__<span class="token punctuation">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token number">1</span>
arr<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'NaN'</span><span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token number">1</span></code></pre>
<p>arr数组的第四个位置是NaN,但是无法获得索引。<br><strong>因为indexOf()，lastIndexOf()是严格按照<code>===</code>操作符来检测的，而NaN是唯一的不与自身相等的值。</strong></p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token number">NaN</span> <span class="token operator">===</span> <span class="token number">NaN</span>
<span class="token boolean">false</span>
<span class="token number">1</span> <span class="token operator">===</span> <span class="token number">1</span>
<span class="token boolean">true</span>
<span class="token string">'a'</span> <span class="token operator">===</span> <span class="token string">'a'</span>
<span class="token boolean">true</span></code></pre>
<p>奇葩啊，NaN与自己都不相等</p>
<hr>
<h3 id="5-数组实例的常见复杂的方法-参数是另一个函数"><a href="#5-数组实例的常见复杂的方法-参数是另一个函数" class="headerlink" title="5. 数组实例的常见复杂的方法(参数是另一个函数)"></a>5. 数组实例的常见复杂的方法(参数是另一个函数)</h3><h4 id="5-1-sort"><a href="#5-1-sort" class="headerlink" title="5.1 sort()"></a>5.1 sort()</h4><p>下面MDN的解释非常棒</p>
<blockquote>
<p><code>sort()</code> 方法在适当的位置对数组的元素进行排序，并返回数组。 sort 排序不一定是<a href="https://zh.wikipedia.org/wiki/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95#.E7.A9.A9.E5.AE.9A.E6.80.A7" target="_blank" rel="noopener">稳定的</a>。默认排序顺序是根据字符串Unicode码点。</p>
</blockquote>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> fruit <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'cherries'</span><span class="token punctuation">,</span> <span class="token string">'apples'</span><span class="token punctuation">,</span> <span class="token string">'bananas'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
fruit<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment" spellcheck="true">// ['apples', 'bananas', 'cherries']</span>

<span class="token keyword">var</span> scores <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
scores<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment" spellcheck="true">// [1, 10, 2, 21]</span>
<span class="token comment" spellcheck="true">// 注意10在2之前,</span>
<span class="token comment" spellcheck="true">// 因为在 Unicode 指针顺序中"10"在"2"之前</span>

<span class="token keyword">var</span> things <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'word'</span><span class="token punctuation">,</span> <span class="token string">'Word'</span><span class="token punctuation">,</span> <span class="token string">'1 Word'</span><span class="token punctuation">,</span> <span class="token string">'2 Words'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
things<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment" spellcheck="true">// ['1 Word', '2 Words', 'Word', 'word']</span>
<span class="token comment" spellcheck="true">// 在Unicode中, 数字在大写字母之前,</span>
<span class="token comment" spellcheck="true">// 大写字母在小写字母之前.</span></code></pre>
<p>上述代码两点注意</p>
<ul>
<li><p>第一点是<br>上述代码中的第二部分的<code>[1, 10, 2, 21]</code>是因为<br><code>10</code>的Unicode编码是\u0031\u0030，<code>2</code>的Unicode编码是\u0032，所以<code>10</code>排在<code>2</code>的前面</p>
</li>
<li><p>第二点是上述代码中的第三部分的<code>['1 Word', '2 Words', 'Word', 'word']</code>是因为<br><code>'Word'</code>的Unicode编码是</p>
</li>
<li><pre><code>\u0026\u0023\u0033\u0039\u003b\u0057\u006f\u0072\u0064\u0026\u0023\u0033\u0039\u003b</code></pre><p><code>'word'</code>的Unicode编码是</p>
</li>
<li><pre><code>\u0026\u0023\u0033\u0039\u003b\u0077\u006f\u0072\u0064\u0026\u0023\u0033\u0039\u003b</code></pre><p>所以   ‘Word’排在’word’前面。</p>
<p>各种编码查询<a href="http://tool.chinaz.com/tools/unicode.aspx" target="_blank" rel="noopener">站长工具</a><br><strong>sort方法明显的会改变原数组啊</strong></p>
</li>
<li><p>我们通常不想使用默认的升序排列，sort方法可以传入函数来改变顺序。<br>MDN的语法是arr.sort(compareFunction)<br><code>compareFunction</code>这个函数用来指定按某种顺序进行排列的函数。如果省略，元素按照转换为的字符串的诸个字符的Unicode位点进行排序。<br><code>compareFunction</code>这个函数基本的规则是传入两个参数</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">compareNumbers</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<table>
<thead>
<tr>
<th>a,b参数比较</th>
<th>代表的意思</th>
</tr>
</thead>
<tbody><tr>
<td>compareFunction(a, b) &lt; 0</td>
<td>a在b之前</td>
</tr>
<tr>
<td>compareFunction(a, b) &gt; 0</td>
<td>b在a之前</td>
</tr>
</tbody></table>
</li>
</ul>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">]</span>
undefined
a
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">]</span>
a<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> b<span class="token operator">-</span>a<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">]</span></code></pre>
<p>降序排列。</p>
<ul>
<li>也可以根据具体需求来根据属性来排列<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> students <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'小明'</span><span class="token punctuation">,</span><span class="token string">'小红'</span><span class="token punctuation">,</span><span class="token string">'小花'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> scores <span class="token operator">=</span> <span class="token punctuation">{</span> 小明<span class="token punctuation">:</span> <span class="token number">59</span><span class="token punctuation">,</span> 小红<span class="token punctuation">:</span> <span class="token number">99</span><span class="token punctuation">,</span> 小花<span class="token punctuation">:</span> <span class="token number">80</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> 
students<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> scores<span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">-</span> scores<span class="token punctuation">[</span>a<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"小红"</span><span class="token punctuation">,</span> <span class="token string">"小花"</span><span class="token punctuation">,</span> <span class="token string">"小明"</span><span class="token punctuation">]</span></code></pre>
以上是把三个学生根据成绩从大到小排列的<h4 id="5-2-map"><a href="#5-2-map" class="headerlink" title="5.2 map()"></a>5.2 map()</h4>map() 方法创建一个新数组，其结果是该数组中的<strong>每个元素</strong>都调用一个提供的函数后返回的结果。</li>
</ul>
<p><strong>不影响原数组。</strong></p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'aa'</span><span class="token punctuation">,</span> <span class="token string">'bb'</span><span class="token punctuation">,</span> <span class="token string">'cc'</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> value <span class="token operator">=</span> value <span class="token operator">+</span> <span class="token string">"f"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"aaf"</span><span class="token punctuation">,</span> <span class="token string">"bbf"</span><span class="token punctuation">,</span> <span class="token string">"ccf"</span><span class="token punctuation">]</span>
arr
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"aa"</span><span class="token punctuation">,</span> <span class="token string">"bb"</span><span class="token punctuation">,</span> <span class="token string">"cc"</span><span class="token punctuation">]</span></code></pre>
<p>以上代码中map()方法里面传入的函数是一个把数组每个值都加上一个’f’。<br>每个元素末尾都加上一个’f’，然后返回这个新的数组，原数组没有任何变化的。<br>我初学的时候，看到上述代码反正很懵逼，这玩意咋出来的这个结果呢。琢磨了很久，还是觉得MDN的解释明白，只不过需要看个3、4遍就能明白了。<br>语法规范是:</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> new_array <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">callback</span><span class="token punctuation">(</span>currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token comment" spellcheck="true">// Return element for new_array </span>
<span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">,</span> thisArg<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<blockquote>
<p>callback<br>生成新数组元素的函数，使用三个参数：<br>currentValue<br>callback 的第一个参数，数组中正在处理的当前元素。<br>index<br>callback 的第二个参数，数组中正在处理的当前元素的索引。<br>array<br>callback 的第三个参数，map 方法被调用的数组。<br>thisArg<br>可选的。执行 callback 函数时 使用的this 值。<br>返回值<br>一个新数组，每个元素都是回调函数的结果。</p>
</blockquote>
<pre class=" language-javascript"><code class="language-javascript"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> currentValue<span class="token operator">*</span>index
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span></code></pre>
<p>其实callback 的第三个参数可以不写，也知道调用的到底是哪个Array。</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>currentValue<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> currentValue<span class="token operator">*</span>index
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span></code></pre>
<p>当你用map()方法的时候，callback 函数会被自动传入三个参数：数组的每一个元素，元素索引，原数组本身。既然原数组本身可以省略，那么由剩下的两个特点我们发散一下，会想到前面我们讲过，伪数组(比如字符串)也具备这两个特点会不会也能用map()方法呢，接下来做个实验。<br>哈哈哈哈，愚蠢的人类，你想的美，怎么可能直接使用呢，必须把伪数组转换一下的。</p>
<ul>
<li>第一种转换方法<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> upper <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">,</span> upper<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"A"</span><span class="token punctuation">,</span> <span class="token string">"B"</span><span class="token punctuation">,</span> <span class="token string">"C"</span><span class="token punctuation">]</span></code></pre>
以上是通过map函数的call方法间接使用</li>
<li>第二种转换方法<pre class=" language-javascript"><code class="language-javascript"><span class="token string">'abc'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>upper<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"A"</span><span class="token punctuation">,</span> <span class="token string">"B"</span><span class="token punctuation">,</span> <span class="token string">"C"</span><span class="token punctuation">]</span></code></pre>
<code>'abc'.split('')</code>把字符串转成数组<code>["a", "b", "c"]</code></li>
</ul>
<hr>
<p>至此，字符串和数组相互转化的方法，都学到了,总结如下。</p>
<ul>
<li>数组转字符串 三种方法<pre class=" language-javascript"><code class="language-javascript"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">"1,3,4"</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">''</span>
<span class="token string">"1,3,4"</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">"1,3,4"</span></code></pre>
</li>
<li>字符串转数组 一种方法<pre class=" language-javascript"><code class="language-javascript"><span class="token string">'abxc'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">]</span></code></pre>
</li>
</ul>
<hr>
<p>在map()的最后，要注意数组的空位问题。<br>我们先看一个map()处理含有空位的数组的奇怪现象</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> n <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
undefined
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span> 
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> empty<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> undefined<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span></code></pre>
<p>可以发现<code>[1, , 2].map(f)</code>空位未执行map()。map方法不会跳过undefined和null，但是会跳过空位。</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">null</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">1</span>
<span class="token boolean">true</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">2</span>
<span class="token boolean">false</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">1</span>
<span class="token comment" spellcheck="true">//好奇怪</span></code></pre>
<ul>
<li>用一个更直观的例子来证明map方法会跳过空位<pre class=" language-javascript"><code class="language-javascript"><span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'enter...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>empty × <span class="token number">2</span><span class="token punctuation">]</span>
  length<span class="token punctuation">:</span> <span class="token number">2</span>
  __proto__<span class="token punctuation">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre>
本文一开始就讲了Array[2]始构造了长度为2的空数组，没有打印出enter，说明未执行map()方法。<blockquote>
<p>使用 map 方法处理数组时，数组元素的范围是在 callback 方法第一次调用之前就已经确定了。在 map 方法执行的过程中：原数组中新增加的元素将不会被 callback 访问到；若已经存在的元素被改变或删除了，则它们的传递到 callback 的值是 map 方法遍历到它们的那一时刻的值；而被删除的元素将不会被访问到。</p>
</blockquote>
</li>
</ul>
<hr>
<p>以上引入了数组的空位（hole）概念，<strong>那什么才是数组的空位呢</strong><br><code>var a= [1, , 2]</code> 中间就是一个空位</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> a<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
undefined
a
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> empty<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
    <span class="token number">0</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token number">2</span><span class="token punctuation">:</span> <span class="token number">2</span>
    length<span class="token punctuation">:</span> <span class="token number">3</span>
    __proto__<span class="token punctuation">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
undefined</code></pre>
<p>可以看到，空位计入数组长度,空位可读取，但是是undefined。<br>delete命令可以删除数组内的一个元素</p>
<pre class=" language-javascript"><code class="language-javascript">a
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> empty<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
<span class="token keyword">delete</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token boolean">true</span>
a
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>empty × <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
    <span class="token number">2</span><span class="token punctuation">:</span> <span class="token number">2</span>
    length<span class="token punctuation">:</span> <span class="token number">3</span>
    __proto__<span class="token punctuation">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre>
<p>delete命令删除成功，返回true,但是length不变，说明空位可以被读取到，所以用delete命令无法清空数组。目前把数组清空的唯一方法就是把length属性改为0。<br>换句话说<strong>length属性不能过滤空位</strong>。<br>当使用length属性进行数组遍历时，一定要非常小心。</p>
<p>数组的某个位置是空位，与某个位置是undefined，是不一样的。<br>为什么不一样呢。</p>
<ul>
<li>如果是空位，使用数组的forEach方法(接下来重点研究)、for…in结构、以及Object.keys方法进行遍历，空位都会被跳过。<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">,</span> <span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
undefined
a
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> empty × <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
  <span class="token number">0</span><span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token number">3</span><span class="token punctuation">:</span> <span class="token number">5</span>
  length<span class="token punctuation">:</span> <span class="token number">4</span>
  __proto__<span class="token punctuation">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">//只打印出了已经存在具体数值的1和5</span>
a<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token number">1</span>
<span class="token number">5</span>
undefined
<span class="token comment" spellcheck="true">//只有0索引和3索引</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token number">0</span>
<span class="token number">3</span>
undefined
<span class="token comment" spellcheck="true">//只有0索引和3索引</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">"0"</span><span class="token punctuation">,</span> <span class="token string">"3"</span><span class="token punctuation">]</span>
  <span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">"0"</span>
  <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">"3"</span>
  length<span class="token punctuation">:</span> <span class="token number">2</span>
  __proto__<span class="token punctuation">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre>
</li>
<li>如果是undefined，使用数组的forEach方法(接下来重点研究)、for…in结构、以及Object.keys方法进行遍历，不会被跳过。<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span>undefined<span class="token punctuation">,</span> undefined<span class="token punctuation">,</span> undefined<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
</li>
</ul>
<p>a.forEach(function (x, i) {<br>  console.log(i + ‘. ‘ + x);<br>});<br>// 0. undefined<br>// 1. undefined<br>// 2. undefined</p>
<p>for (var i in a) {<br>  console.log(i);<br>}<br>// 0<br>// 1<br>// 2</p>
<p>Object.keys(a)<br>// [‘0’, ‘1’, ‘2’]</p>
<pre><code>上面的对比可以知道，空位就是数组没有这个元素，所以不会被遍历到，而undefined则表示数组有这个元素，值是undefined，所以遍历不会跳过。
***
#### 5.3 forEach()
该方法与map()类似，都是使数组的每个元素执行一个函数。与map()的最大区别是没有返回值，而map()返回一个新的数组。forEach()只关心数据的操作，而不关心返回值。forEach()方法传入的函数，实际上是有3个值。
MDN的语法规范
```javascript
array.forEach(callback(currentValue, index, array){
    //do something
}, this)

array.forEach(callback[, thisArg])</code></pre><p>参数列表的含义与map()方法的每个参数含义相同。<br>callback()函数的array参数，通常省略，自己要脑补上。</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//x就是数组的每一个元素，i是每一个元素的索引</span>
arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">': '</span> <span class="token operator">+</span> x<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token number">0</span><span class="token punctuation">:</span> <span class="token number">1</span>
<span class="token number">1</span><span class="token punctuation">:</span> <span class="token number">2</span>
<span class="token number">2</span><span class="token punctuation">:</span> <span class="token number">3</span></code></pre>
<p>谁去调用的forEach()方法，那么callback()里面的array就会自动传入那个数组，但是是隐藏的。和我一样的初学者，都曾怀疑过，哪里传进来的数组呢，最好的答案都在MDN的callback()函数的语法规则里面，具体的细节分析和map()的分析一样。</p>
<ul>
<li>注意: 用forEach()方法遍历数组，无法再某个条件时停止遍历，此时应该用普通的for循环<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
undefined
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr1<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>arr1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token number">0</span></code></pre>
上面代码中，执行到数组的第二个成员时，就会中断执行。forEach方法做不到这一点。</li>
<li>与map()方法一样，forEach方法会跳过数组的空位。而不会跳过undefined和null。<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> log <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
</li>
</ul>
<p>[1, undefined, 2].forEach(log)<br>// 2<br>// NaN<br>// 3</p>
<p>[1, null, 2].forEach(log)<br>// 2<br>// 1<br>// 3</p>
<p>[1, , 2].forEach(log)<br>// 2<br>// 3</p>
<pre><code>- 当然了，forEach方法也可以用于类似数组的对象和字符串。
```javascript
var obj = {
  0: 1,
  a: 'hello',
  length: 1
}

Array.prototype.forEach.call(obj, function (value, i) {
  console.log( i + ':' + value);
});
// 0:1

var str = 'hello';
Array.prototype.forEach.call(str, function (value, i) {
  console.log( i + ':' + value);
});
// 0:h
// 1:e
// 2:l
// 3:l
// 4:o</code></pre><p>对象和字符串使用foreach一定要用Array.prototype.forEach.call()的。</p>
<blockquote>
<p><code>forEach</code> 遍历的范围在第一次调用 <code>callback</code> 前就会确定。调用<code>forEach</code> 后添加到数组中的项不会被 <code>callback</code> 访问到。如果已经存在的值被改变，则传递给 <code>callback</code> 的值是 <code>forEach</code> 遍历到他们那一刻的值。已删除的项不会被遍历到。如果已访问的元素在迭代时被删除了(例如使用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/shift" target="_blank" rel="noopener" title="shift() 方法从数组中删除第一个元素，并返回该元素的值。此方法更改数组的长度。"><code>shift()</code></a>) ，之后的元素将被跳过</p>
</blockquote>
<p>ε=(´ο｀*)))唉，上面这段话啊，可以看出forEach()和map()函数如此的相似啊。</p>
<ul>
<li>举一个MDN上面的例子，一旦数组被修改了，遍历不受你的影响<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> words <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"one"</span><span class="token punctuation">,</span> <span class="token string">"two"</span><span class="token punctuation">,</span> <span class="token string">"three"</span><span class="token punctuation">,</span> <span class="token string">"four"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
words<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span> <span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>word <span class="token operator">===</span> <span class="token string">"two"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  words<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'aaa'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
one
two
three
four</code></pre>
我们发现遍历出了原来的所有元素，在forEach()开始之后的添加的<code>'aaa'</code>并不会遍历到。<br>不过MDN的例子比我的难度大多了啊。<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> words <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"one"</span><span class="token punctuation">,</span> <span class="token string">"two"</span><span class="token punctuation">,</span> <span class="token string">"three"</span><span class="token punctuation">,</span> <span class="token string">"four"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
words<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span> <span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>word <span class="token operator">===</span> <span class="token string">"two"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  words<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// one</span>
<span class="token comment" spellcheck="true">// two</span>
<span class="token comment" spellcheck="true">// four</span></code></pre>
当到达包含值”two”的项时，整个数组的第一个项被移除了，这导致所有剩下的项上移一个位置。因为元素 “four”现在在原数组的第三个位置，three跑到了第二个位置，而此时要去遍历第三个位置，所以不会打印three。<h4 id="5-4-filter"><a href="#5-4-filter" class="headerlink" title="5.4 filter()"></a>5.4 filter()</h4>filter方法的参数是一个函数，所有数组成员依次执行该函数，返回结果为true的成员组成一个新数组返回。该方法不会改变原数组。<br>通俗的理解就是过滤器。callback()函数与以上两个一样，也是传入三个参数。<br>第一个参数是当前数组成员的值，这个是必须的。<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span>
undefined
arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> value<span class="token operator">></span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> value<span class="token operator">></span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span></code></pre>
可以理解为给filter()传入的函数一个规则，满足规则的才能返回。<h4 id="5-5-reduce"><a href="#5-5-reduce" class="headerlink" title="5.5 reduce()"></a>5.5 reduce()</h4><blockquote>
<p>reduce() 方法对累加器和数组中的每个元素（从左到右）应用一个函数，将其减少为单个值。<br>以上是MDN的解释，挺难理解字面意思的。直接用实例来理解吧。</p>
</blockquote>
</li>
<li>累加求和<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span> 
undefined
arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>preSum<span class="token punctuation">,</span> ele<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> preSum <span class="token operator">+</span> ele<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token number">20</span></code></pre>
reduce()函数传入一个函数作为参数，函数里面传入两个参数，preSum默认是数组的第一个元素，每次都把数组的两个元素相加并返回，ele就是每个数组元素。<br>你也快成规定起始的累加值<pre class=" language-javascript"><code class="language-javascript">arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>preSum<span class="token punctuation">,</span> ele<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> preSum <span class="token operator">+</span> ele<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token number">30</span></code></pre>
起始的累加值是10，那么加上数组的20就是30。</li>
<li>用reduce表示map()<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
undefined
arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">{</span>
  arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>n<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> arr
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[]空数组作为一个初始值</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span></code></pre>
利用reduce()完成了map()一样的功能</li>
<li>用reduce表示filter()<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span>
undefined
arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">></span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span></code></pre>
如果原数组里面的值大于3,就放到新的数组里面。和filter()道理一样。</li>
<li>计算数组里面技术的和<br>var a = [1,2,3,4,5,6,7,8,9]<br>计算所有奇数的和<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>
a<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> sum
  <span class="token punctuation">}</span> <span class="token keyword">else</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> sum <span class="token operator">+</span> n
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token number">25</span></code></pre>
先判断一下，再把奇数相加<h4 id="5-6-几个方法组合使用"><a href="#5-6-几个方法组合使用" class="headerlink" title="5.6 几个方法组合使用"></a>5.6 几个方法组合使用</h4></li>
<li>计算数组的偶数和<br>给定一个 数组 var a = [1,2,3,4,5,6,7,8,9]</li>
</ul>
<ol>
<li>获取所有偶数</li>
<li>得到所有偶数的平方<pre class=" language-javascript"><code class="language-javascript">a<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">%</span><span class="token number">2</span> <span class="token operator">===</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">return</span> n
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token keyword">return</span> n<span class="token operator">*</span>n
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[4,16,36,64]</span></code></pre>
先调用filter()获得所有偶数，再调用map()获得所有偶数平方和<h4 id="5-7-some-，every"><a href="#5-7-some-，every" class="headerlink" title="5.7 some()，every()"></a>5.7 some()，every()</h4><blockquote>
<p>some() 方法测试数组中的某些元素是否通过由提供的函数实现的测试。<br>传入的参数也是一个callback()函数，callback 被调用时传入三个参数：元素的值，元素的索引，被遍历的数组。其实一般只要发现时传入callback()函数，基本都是这些参数。</p>
</blockquote>
<pre class=" language-javascript"><code class="language-javascript">arr
<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> notNumber<span class="token punctuation">:</span> <span class="token string">"not a number"</span><span class="token punctuation">]</span>
 <span class="token number">0</span><span class="token punctuation">:</span> <span class="token number">1</span>
 <span class="token number">1</span><span class="token punctuation">:</span> <span class="token number">3</span>
 <span class="token number">2</span><span class="token punctuation">:</span> <span class="token number">4</span>
 <span class="token number">3</span><span class="token punctuation">:</span> <span class="token number">10</span>
 <span class="token number">4</span><span class="token punctuation">:</span> <span class="token number">30</span>
 notNumber<span class="token punctuation">:</span> <span class="token string">"not a number"</span>
 length<span class="token punctuation">:</span> <span class="token number">5</span>
 __proto__<span class="token punctuation">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">return</span> index <span class="token operator">></span> <span class="token number">5</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token boolean">false</span>
arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">return</span> index <span class="token operator">></span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token boolean">true</span></code></pre>
some()方法的作用是只要数组中的<strong>某个元素满足传入的函数的要求就返回true</strong>。<blockquote>
<p>every() 方法测试数组的所有元素是否都通过了指定函数的测试。</p>
</blockquote>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>elem<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">return</span> elem <span class="token operator">>=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// false</span></code></pre>
every()是要求数组的<strong>所有元素都满足传入的函数的要求才返回true</strong>。</li>
</ol>
<ul>
<li><strong>注意</strong>：对于空数组，some方法返回false，every方法返回true，回调函数都不会执行。<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">isEven</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span> <span class="token punctuation">}</span>
undefined
</code></pre>
</li>
</ul>
<p>[].every(isEven)<br>true</p>
<p>[].some(isEven)<br>false</p>
<pre><code>对上面的结果，我又有什么办法呢，只能选择背过呗。
**这两个方法都不改变原数组**
### 6. 上述数组的方法的使用总结
数组的上述方法种类繁多，不过有几个特点很明显，一些方法会改变原数组，一些方法不会改变原数组，我以这个细节把上述方法分类如下
#### 6.1 改变原数组的方法

| 方法名字                    | 方法作用                                     |
| ----------------------- | ---------------------------------------- |
| push()                  | 在元素末尾添加元素，**返回添加新元素后的数组长度**              |
| pop()                   | 删除数组末尾的元素，**返回删除的那个元素**。与push()方法一起模拟栈这个数据结构 |
| shift()                 | 删除数组的第一个元素，**返回删除的那个元素**。与push()方法结合，模拟队列这个数列这个数据结构 |
| unshift()               | 在数组的起始位置添加新元素，**返回添加新元素后的数组长度**          |
| reverse()               | 把数组的每一个元素的位置互换，**返回翻转后的数组**              |
| splice()                | 根据方法传入的参数删除原数组的部分元素，**返回被删除的元素。可以用来拆分数组** |
| indexOf()，lastIndexOf() | 返回括号里面 的元素第一次出现和最后一次出现的位置。NaN元素无法获得位置    |
| sort()                  | 默认按照数组元素的Unicode码点排序，可以自己传入函数，规定排序准则     |

#### 6.2 不改变原数组的方法
| 方法名字      | 方法作用                                     |
| --------- | ---------------------------------------- |
| join()    | 以某种形式把数组的所有元素以字符串的形式返回，默认以逗号分隔，**返回生成的新数组** |
| concat()  | 专业合并数组，把新数组添加到旧数组的后面，**返回生成的新数组**        |
| slice()   | 根据方法传入的参数提取原数组的部分，**返回提取的这个新数组**。**也可以用来把伪数组变成真数组** |
| map()     | 必须传入一个callback()函数，数组的每一个元素执行这个函数，**返回执行回调函数后的新数组**。该方法会跳过**空位** |
| forEach() | 必须传入一个callback()函数，数组的每一个元素执行这个函数。**没有返回值，无法终止循环** |
| filter()  | 必须传入一个callback()函数，数组的每一个元素执行这个函数，**返回结果为true的成员组成一个新数组返回** |
| reduce()  | 对数组中的每个元素（从左到右）应用一个函数，将其减少为单个值。**具体理解看例子吧** |
| some()    | 只要数组中的某个元素满足传入的函数的要求就返回true              |
| every()   | 数组的所有元素都满足传入的函数的要求才返回true                |
正是因为以上的方法对原数组不造成影响，所以我们可以组合使用filter()、map()先过滤再匹配。
#### 6.3 数组的遍历
对于有序无序的数据，我们有时候会希望获得所有的key或者value，数组对这个需求尤甚。
一般来说，数组的遍历有三种方法
- for...in循环
```javascript
var arr = [1, 3, 4, 10, 30]
undefined
for (var key in arr){
    console.log(arr[key])
}
1
3
4
10
30</code></pre><ul>
<li>切忌把arr[key]手抖写成了arr.key。因为arr.key等同于arr[‘key’]，很明显数组没有这个名字叫key的键。<br>for…in循环有个弊端就是它会把非数字的索引也打印出来<pre class=" language-javascript"><code class="language-javascript">arr
<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span>notNumber <span class="token operator">=</span> <span class="token string">'not a number'</span>
<span class="token string">"not a number"</span>
arr
<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> notNumber<span class="token punctuation">:</span> <span class="token string">"not a number"</span><span class="token punctuation">]</span>
</code></pre>
</li>
</ul>
<p>for (var key in arr){<br>    console.log(key + ‘:’ + arr[key])<br>}<br>0: 1<br>1: 3<br>2: 4<br>3: 10<br>4: 30<br>notNumber: not a number</p>
<pre><code>如果我们只关心数组的数字索引，用传统的下面的传统for循环
- 传统for循环
```javascript
arr
(5) [1, 3, 4, 10, 30, notNumber: "not a number"]
for (let i = 0; i &lt; arr.length; i++){
    console.log(i + ':' + arr[i])
}
0:1
1:3
2:4
3:10
4:30</code></pre><p>这种方法其实是我们人为规定了只遍历数字索引，O(∩_∩)O哈哈~</p>
<ul>
<li>forEach(）循环<pre class=" language-javascript"><code class="language-javascript">arr
<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> notNumber<span class="token punctuation">:</span> <span class="token string">"not a number"</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token number">0</span><span class="token punctuation">:</span><span class="token number">1</span>
<span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span>
<span class="token number">2</span><span class="token punctuation">:</span><span class="token number">4</span>
<span class="token number">3</span><span class="token punctuation">:</span><span class="token number">10</span>
<span class="token number">4</span><span class="token punctuation">:</span><span class="token number">30</span></code></pre>
这种方法也不会遍历非数字的索引。</li>
</ul>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>吴少林
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://codevvvv9.github.io/2018/01/02/javascript-biao-zhun-ku-zhi-shu-zu/" title="JavaScript标准库之数组">https://codevvvv9.github.io/2018/01/02/javascript-biao-zhun-ku-zhi-shu-zu/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/JavaScript/" rel="tag"># JavaScript</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2017/12/29/margin-wei-fu-de-li-jie/" rel="prev" title="margin为负的理解">
      <i class="fa fa-chevron-left"></i> margin为负的理解
    </a></div>
      <div class="post-nav-item">
    <a href="/2018/01/05/chu-tan-js-de-han-shu/" rel="next" title="初探JS的函数">
      初探JS的函数 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-数组的简单概念"><span class="nav-number">1.</span> <span class="nav-text">1. 数组的简单概念</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-数组是什么呢？"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 数组是什么呢？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-数组如何定义"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 数组如何定义</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-1-构造函数不写参数"><span class="nav-number">1.2.1.</span> <span class="nav-text">1.2.1 构造函数不写参数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-2-构造函数写1个正整数参数"><span class="nav-number">1.2.2.</span> <span class="nav-text">1.2.2 构造函数写1个正整数参数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-3-构造函数参数是一个非正整数-字符串、boolean、对象等其他值"><span class="nav-number">1.2.3.</span> <span class="nav-text">1.2.3 构造函数参数是一个非正整数(字符串、boolean、对象等其他值)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-4-构造函数写多个参数"><span class="nav-number">1.2.4.</span> <span class="nav-text">1.2.4 构造函数写多个参数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-5-构造函数参数是非正整数，报错"><span class="nav-number">1.2.5.</span> <span class="nav-text">1.2.5 构造函数参数是非正整数，报错</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-6-数组定义的正确方法"><span class="nav-number">1.2.6.</span> <span class="nav-text">1.2.6 数组定义的正确方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-数组的length属性解疑"><span class="nav-number">2.</span> <span class="nav-text">2. 数组的length属性解疑</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-把数组清空的方法"><span class="nav-number">2.1.</span> <span class="nav-text">2.1 把数组清空的方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-有趣的一点"><span class="nav-number">2.2.</span> <span class="nav-text">2.2 有趣的一点</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-伪数组-array-like-object"><span class="nav-number">3.</span> <span class="nav-text">3. 伪数组(array-like object)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-valueOf-，toString"><span class="nav-number">3.1.</span> <span class="nav-text">4.2 valueOf()，toString()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-push"><span class="nav-number">3.2.</span> <span class="nav-text">4.3 push()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-pop"><span class="nav-number">3.3.</span> <span class="nav-text">4.4 pop()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-join"><span class="nav-number">3.4.</span> <span class="nav-text">4.5 join()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-6-concat"><span class="nav-number">3.5.</span> <span class="nav-text">4.6 concat()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-7-shift"><span class="nav-number">3.6.</span> <span class="nav-text">4.7 shift()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-8-unshift"><span class="nav-number">3.7.</span> <span class="nav-text">4.8 unshift()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-9-reverse"><span class="nav-number">3.8.</span> <span class="nav-text">4.9 reverse()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-10-slice"><span class="nav-number">3.9.</span> <span class="nav-text">4.10 slice()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-11-splice"><span class="nav-number">3.10.</span> <span class="nav-text">4.11 splice()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-12-indexOf-，lastIndexOf"><span class="nav-number">3.11.</span> <span class="nav-text">4.12 indexOf()，lastIndexOf()</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-数组实例的常见复杂的方法-参数是另一个函数"><span class="nav-number">4.</span> <span class="nav-text">5. 数组实例的常见复杂的方法(参数是另一个函数)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-sort"><span class="nav-number">4.1.</span> <span class="nav-text">5.1 sort()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-2-map"><span class="nav-number">4.2.</span> <span class="nav-text">5.2 map()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-4-filter"><span class="nav-number">4.3.</span> <span class="nav-text">5.4 filter()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-5-reduce"><span class="nav-number">4.4.</span> <span class="nav-text">5.5 reduce()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-6-几个方法组合使用"><span class="nav-number">4.5.</span> <span class="nav-text">5.6 几个方法组合使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-7-some-，every"><span class="nav-number">4.6.</span> <span class="nav-text">5.7 some()，every()</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="吴少林"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">吴少林</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">59</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/codevvvv9" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;codevvvv9" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://www.jianshu.com/u/15af43443bdb" title="简书 → http:&#x2F;&#x2F;www.jianshu.com&#x2F;u&#x2F;15af43443bdb" rel="noopener" target="_blank"><i class="fa fa-fw fa-rss-square"></i>简书</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://juejin.im/user/5821e3d8bf22ec0068e631e2" title="掘金 → https:&#x2F;&#x2F;juejin.im&#x2F;user&#x2F;5821e3d8bf22ec0068e631e2" rel="noopener" target="_blank"><i class="fa fa-fw fa-balance-scale"></i>掘金</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/wu-lin-25-41/posts" title="知乎 → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;wu-lin-25-41&#x2F;posts" rel="noopener" target="_blank"><i class="fa fa-fw fa-book"></i>知乎</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2017 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heartbeat"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">吴少林</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
