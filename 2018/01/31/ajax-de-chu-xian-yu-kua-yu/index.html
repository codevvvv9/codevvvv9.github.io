<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/1.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/f1.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/1.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"codevvvv9.github.io","root":"/","scheme":"Mist","version":"7.7.2","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="XMLHttpRequest JSON AJAX CORS  四个名词来开会  ** http:&#x2F;&#x2F;shaolin.com:8002 如何发请求在前端的世界里也逛荡了不少日子了，目前已经get到大约5种发起请求的方式，主流的、非主流的。    何种方式 请求方法     最常见的form表单 默认GET，多用POST,只此两种 会刷新页面或者新开页面   a 标签 GET请求 也会刷新页面或者新">
<meta property="og:type" content="article">
<meta property="og:title" content="AJAX的出现与跨域">
<meta property="og:url" content="https://codevvvv9.github.io/2018/01/31/ajax-de-chu-xian-yu-kua-yu/index.html">
<meta property="og:site_name" content="WuShaolin">
<meta property="og:description" content="XMLHttpRequest JSON AJAX CORS  四个名词来开会  ** http:&#x2F;&#x2F;shaolin.com:8002 如何发请求在前端的世界里也逛荡了不少日子了，目前已经get到大约5种发起请求的方式，主流的、非主流的。    何种方式 请求方法     最常见的form表单 默认GET，多用POST,只此两种 会刷新页面或者新开页面   a 标签 GET请求 也会刷新页面或者新">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/5422064-ba8990e4137695cd.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/5422064-060a110b41a721c6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="article:published_time" content="2018-01-31T12:21:24.000Z">
<meta property="article:modified_time" content="2020-07-25T14:58:57.026Z">
<meta property="article:author" content="吴少林">
<meta property="article:tag" content="AJAX">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://upload-images.jianshu.io/upload_images/5422064-ba8990e4137695cd.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">

<link rel="canonical" href="https://codevvvv9.github.io/2018/01/31/ajax-de-chu-xian-yu-kua-yu/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>AJAX的出现与跨域 | WuShaolin</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="WuShaolin" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">WuShaolin</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">悟已往之不谏，知来者之可追！</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/codevvvv9" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://codevvvv9.github.io/2018/01/31/ajax-de-chu-xian-yu-kua-yu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="吴少林">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WuShaolin">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          AJAX的出现与跨域
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-01-31 20:21:24" itemprop="dateCreated datePublished" datetime="2018-01-31T20:21:24+08:00">2018-01-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-07-25 22:58:57" itemprop="dateModified" datetime="2020-07-25T22:58:57+08:00">2020-07-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Web%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index"><span itemprop="name">Web基础</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <blockquote>
<p><code>XMLHttpRequest</code> <code>JSON</code> <code>AJAX</code> <code>CORS</code>  四个名词来开会</p>
</blockquote>
<p>** <a href="http://shaolin.com:8002" target="_blank" rel="noopener">http://shaolin.com:8002</a></p>
<h3 id="如何发请求"><a href="#如何发请求" class="headerlink" title="如何发请求"></a>如何发请求</h3><p>在前端的世界里也逛荡了不少日子了，目前已经get到大约5种发起请求的方式，主流的、非主流的。</p>
<table>
<thead>
<tr>
<th align="left">何种方式</th>
<th>请求方法</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td align="left">最常见的<code>form</code>表单</td>
<td>默认<code>GET</code>，多用<code>POST</code>,只此两种</td>
<td>会刷新页面或者新开页面</td>
</tr>
<tr>
<td align="left"><code>a</code> 标签</td>
<td><code>GET</code>请求</td>
<td>也会刷新页面或者新开页面</td>
</tr>
<tr>
<td align="left"><code>img</code>的<code>src</code>属性</td>
<td><code>GET</code></td>
<td>只能以图片的形式展现</td>
</tr>
<tr>
<td align="left"><code>link</code>标签</td>
<td><code>GET</code></td>
<td>只能以<code>CSS</code>、<code>favicon</code>的形式展现</td>
</tr>
<tr>
<td align="left"><code>script</code>标签</td>
<td><code>GET</code></td>
<td>只能以脚本的形式运行</td>
</tr>
</tbody></table>
<p>可是</p>
<ul>
<li>我们可能想用<code>GET</code> <code>POST</code> <code>PUT</code> <code>DELETE</code> 方法</li>
<li>不想刷新整个页面，想用一种更易于理解的方式来响应</li>
</ul>
<a id="more"></a>

<h3 id="AJAX出现"><a href="#AJAX出现" class="headerlink" title="AJAX出现"></a>AJAX出现</h3><h4 id="浏览器和服务器交互模式-V1-0"><a href="#浏览器和服务器交互模式-V1-0" class="headerlink" title="浏览器和服务器交互模式 V1.0"></a>浏览器和服务器交互模式 V1.0</h4><p>在<code>AJAX</code>未出现之前，浏览器想从服务器获得资源，注意是获取资源，会经过如下一个过程</p>
<ul>
<li>浏览器发起请求-&gt;服务器接到请求响应给你HTML文档-&gt;浏览器收到资源，刷新页面，加载获得的的HTML。简略的过程</li>
</ul>
<p>我称这种交互方式是 V1.0，此时还是以获取资源为导向。后来随着时代的发展，人们日益增长的文化需求成为了社会的主要矛盾……有一天，小明看了一篇报道，他只是想在下面评论一下，发表对实事的<strong><em>亲切问候</em></strong>，问候完了，唉，你给我刷新页面干啥，我只是想评论一下啊。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/5422064-ba8990e4137695cd.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="什么鬼"></p>
<p>大概那是网民们第一次对 <strong>良好的用户体验</strong> 提出了要求。后来的苹果爸爸，把大家惯坏了，天天嚷着 “你这产品用户体验太差了”……</p>
<p>彼时，微软还是对web做出了很大的贡献的。</p>
<h4 id="交互模式2-0"><a href="#交互模式2-0" class="headerlink" title="交互模式2.0"></a>交互模式2.0</h4><p>大约1999年，微软发布<code>IE 5.0</code>版本，它允许JavaScript脚本向服务器发起HTTP请求。不过很遗憾，当时也没有火起来，直到2004年Gmail发布和2005年Google Map发布，才引起广泛重视。2005年，一个叫Jesse James Garrett的人提出了一个新术语—-<code>AJAX</code>，它是一系列技术的组合体，全称是 <code>Asynchronous JavaScript + XML</code>(异步的JS和XML)可以阻止页面整体刷新，只是动态响应用户的操作，快速显示到局部，用户就可以很愉快的继续上网了。</p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/AJAX" target="_blank" rel="noopener">AJAX</a></p>
<p>可以看出IE当时还是很猛的，随着IE 6.0 市场份额进一步扩大，IE已经把火狐整的半死不活，放眼整个浏览器市场，微软是当之无愧的王者，后来微软就把浏览器团队解散了……不得不说这是一波神操作，能与之媲美的操作大概只有<code>残血我能反杀</code> <code>塔下我能秀他</code>了。微软强行为后续各家浏览器的发展提供了优秀的工程师，尤其是08、09年出生的谷歌浏览器，再看如今的IE……</p>
<p>既然<code>AJAX</code>是一系列的技术的组合体，接下来认识一下其中的几位主角</p>
<h4 id="XMLHttpRequest"><a href="#XMLHttpRequest" class="headerlink" title="XMLHttpRequest"></a>XMLHttpRequest</h4><p><code>XMLHttpRequest</code>对象是用来在浏览器和服务器之间传输数据的。</p>
<p>古代的操作的是：</p>
<ol>
<li>浏览器构造<code>XMLHttpRequest</code>实例化对象</li>
<li>用这个对象发起请求</li>
<li>服务器响应一个<code>XML</code>格式的字符串，是字符串，是字符串，是字符串，也就是说响应的第四部分是字符串。</li>
<li>JS解析符合XML格式的字符串，更新局部页面。</li>
</ol>
<p>什么是<a href="https://developer.mozilla.org/zh-CN/docs/XML_%E4%BB%8B%E7%BB%8D" target="_blank" rel="noopener">XML</a>，<strong>可扩展</strong>标记语言。</p>
<p>以上是最初的用法，用的是<code>XML</code>，前端代码片段如下</p>
<pre class=" language-javascript"><code class="language-javascript">  <span class="token keyword">let</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//实例化XMLHttpRequest对象</span>
  request<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'请求和响应都完毕了'</span><span class="token punctuation">)</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span>status <span class="token operator">>=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> request<span class="token punctuation">.</span>status <span class="token operator">&lt;=</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'说明请求成功了'</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span>
        <span class="token keyword">let</span> parser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DOMParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">let</span> xmlDoc <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">parseFromString</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>responseText<span class="token punctuation">,</span> <span class="token string">"text/xml"</span><span class="token punctuation">)</span> 
        <span class="token comment" spellcheck="true">//用parser解析request.responseText</span>
        <span class="token keyword">let</span> c <span class="token operator">=</span> xmlDoc<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>textContent
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span>status <span class="token operator">>=</span> <span class="token number">400</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'说明请求失败了'</span><span class="token punctuation">)</span>

      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

  <span class="token punctuation">}</span>
  request<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'/xxx'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//配置request</span>
  request<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>服务器端的对应代码片段如下</p>
<pre class=" language-javascript"><code class="language-javascript">    <span class="token operator">...</span>
    response<span class="token punctuation">.</span>statusCode <span class="token operator">=</span> <span class="token number">200</span>
    response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Content-Type'</span><span class="token punctuation">,</span> <span class="token string">'text/xml;charset=utf-8'</span><span class="token punctuation">)</span>
    response<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`

    &lt;note>
      &lt;to>木木&lt;/to>
      &lt;from>少少&lt;/from>
      &lt;heading>你好哇&lt;/heading>
      &lt;body>好久不见啊&lt;/body>
    &lt;/note>
    `</span></span><span class="token punctuation">)</span>
    response<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token operator">...</span></code></pre>
<hr>
<p>本地模拟的话,一定要记得开俩不同的端口<br>例如:</p>
<pre><code>node server.js 8001
node server.js 8002</code></pre><hr>
<h4 id="XMLHttpRequest实例的详解"><a href="#XMLHttpRequest实例的详解" class="headerlink" title="XMLHttpRequest实例的详解"></a>XMLHttpRequest实例的<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest" target="_blank" rel="noopener">详解</a></h4><p>正如上面的前端代码片段写的一样，主要用到了<code>open()</code> <code>send()</code>方法， <code>onreadystatechange</code> <code>readyState</code> 属性。</p>
<ol>
<li>request.open(method, URL, async)方法。<ul>
<li>一般用三个参数，第一个参数是请求的方法，可以用<code>GET POST DELETE PUT</code>等等，URL是用访问的路径，async是是否使用同步，默认true,开启异步，不需要做修改即可，所以实际中只写前两个参数</li>
</ul>
</li>
</ol>
<ul>
<li>如果非要写false，开启同步，<a href="http://javascript.ruanyifeng.com/bom/ajax.html" target="_blank" rel="noopener">会对浏览器有阻塞效应</a>，而且如果值为false,则send()方法<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest" target="_blank" rel="noopener">不会返回任何东西</a>，直到接受到了服务器的返回数据</li>
</ul>
<ol>
<li>request.send()方法。<ul>
<li>发送请求. 如果该请求是异步模式(默认),该方法会立刻返回. 相反,如果请求是同步模式,则直到请求的响应完全接受以后,该方法才会返回</li>
</ul>
</li>
<li><code>readyState</code>属性。<ul>
<li>描述请求的五个状态。<ul>
<li>0 === 常量 <code>UNSENT</code>(未打开)  open()方法未调用</li>
<li>1 ===  <code>OPENED</code>  (未发送)   只是open()方法调用了</li>
<li>2 === <code>HEADERS_RECEIVED (已获取响应头)</code> send()方法调用了，响应头和响应状态已经返回了</li>
<li>3 === <code>LOADING (正在下载响应体)</code>  响应体下载中，<code>responseText</code>已经获取了部分数据</li>
<li>4 === <code>DONE (请求完成)</code>  整个响应过程完毕了。 <strong><em>这个值是实际中用到的。</em></strong></li>
<li>只要不等于4，就表示请求还在进行中。</li>
</ul>
</li>
</ul>
</li>
<li><code>responseText</code>属性是此次响应的文本内容。</li>
<li><code>onreadystatechange</code>属性。<ul>
<li><code>readyState</code>属性的值发生改变，就会触发<code>readyStateChange</code>事件。</li>
<li>我们可以通过<code>onReadyStateChange</code>属性，指定这个事件的回调函数，对不同状态进行不同处理。尤其是当状态变为4的时候，表示通信成功，这时回调函数就可以处理服务器传送回来的数据。即前面的代码片段的处理方式。</li>
</ul>
</li>
<li>其他的方法、属性、事件详见<a href="http://javascript.ruanyifeng.com/bom/ajax.html#toc22" target="_blank" rel="noopener">阮一峰博客</a>、<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest" target="_blank" rel="noopener">MDN文档</a></li>
</ol>
<hr>
<p>习惯用<code>javaScript</code>的前端是不想和<code>XML</code>打交道的，应该用一种符合<code>js</code>风格的数据格式语言。</p>
<hr>
<h4 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h4><p>后来一个美国程序员<a href="https://zh.wikipedia.org/wiki/%E9%81%93%E6%A0%BC%E6%8B%89%E6%96%AF%C2%B7%E5%85%8B%E7%BE%85%E5%85%8B%E7%A6%8F%E7%89%B9" target="_blank" rel="noopener">道格拉斯·克罗克福特</a>发明了<code>JSON</code>，解决了上面的问题，这货还写了一本蝴蝶书<a href="https://book.douban.com/subject/3590768/" target="_blank" rel="noopener">JavaScript语言精粹</a>，还发明了一个<a href="http://zhenhua-lee.github.io/tools/linter.html" target="_blank" rel="noopener">JS校验器</a> —-JSLint。</p>
<blockquote>
<p><strong>JSON</strong>(JavaScript Object Notation) 是一种轻量级的数据交换格式。 易于人阅读和编写。同时也易于机器解析和生成。 它基于<a href="http://www.crockford.com/javascript" target="_blank" rel="noopener">JavaScript Programming Language</a>, <a href="http://www.ecma-international.org/publications/files/ecma-st/ECMA-262.pdf" target="_blank" rel="noopener">Standard ECMA-262 3rd Edition - December 1999</a>的一个子集。 JSON采用完全独立于语言的文本格式，但是也使用了类似于C语言家族的习惯（包括C, C++, C#, Java, JavaScript, Perl, Python等）。 这些特性使JSON成为理想的数据交换语言。</p>
</blockquote>
<p>以上是<a href="http://json.org/" target="_blank" rel="noopener">JSON官网</a>的简介，可以看出它是一门全新的语言，<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON" target="_blank" rel="noopener">不是JavaScript的子集</a>。</p>
<ol>
<li><code>JSON</code>很简单，数据类型和JS有点不同的地方。</li>
</ol>
<table>
<thead>
<tr>
<th>JavaScript</th>
<th>JSON</th>
</tr>
</thead>
<tbody><tr>
<td>string</td>
<td>“string” 必须写双引号</td>
</tr>
<tr>
<td>number</td>
<td>number</td>
</tr>
<tr>
<td>object</td>
<td>{“object”: “name”} 必须双引号</td>
</tr>
<tr>
<td>undefined</td>
<td>没有</td>
</tr>
<tr>
<td>null</td>
<td>null</td>
</tr>
<tr>
<td>boolean</td>
<td>直接写true false</td>
</tr>
<tr>
<td>array</td>
<td>array</td>
</tr>
<tr>
<td>function</td>
<td>没有</td>
</tr>
<tr>
<td>variable</td>
<td></td>
</tr>
</tbody></table>
<ol>
<li>浏览器的全局对象<code>window</code>上有<code>JSON</code>对象，直接使用<code>window.JSON.parse(string)</code></li>
</ol>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">let</span> string <span class="token operator">=</span> request<span class="token punctuation">.</span>responseText
<span class="token keyword">let</span> json <span class="token operator">=</span> window<span class="token punctuation">.</span>JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//string 要符合JSON的格式</span></code></pre>
<p>以上是JSON解析部分的代码。</p>
<p>此时服务器端代码是</p>
<pre class=" language-javascript"><code class="language-javascript">response<span class="token punctuation">.</span>statusCode <span class="token operator">=</span> <span class="token number">200</span>
response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Content-Type'</span><span class="token punctuation">,</span> <span class="token string">'text/json;charset=utf-8'</span><span class="token punctuation">)</span>
response<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`
    {
      "note" : {
        "to" : "木木",
        "from" : "少少",
        "heading" : "你好哇",
        "content" : "好久不见啊"
      }
    }
`</span></span><span class="token punctuation">)</span></code></pre>
<ol>
<li>我们浏览器有同源政策，不是<strong>同协议 同域名 同端口</strong> 的网页无法相互访问。</li>
</ol>
<p>4.<code>AJAX</code>恰好是同源政策的拥趸</p>
<h4 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a>CORS</h4><ol>
<li>如果<code>AJAX</code>向非同源的地址发起请求，会报错。<ul>
<li>这种错误无法通过状态码识别，因为HTTP回应的状态码有可能是200，也就是说即使你看到了200的正确码，也没有用</li>
</ul>
</li>
<li>但是form表单无视同源政策，可以发起跨域请求。</li>
</ol>
<pre><code>&lt;button id="myButton"&gt;点我&lt;/button&gt;
&lt;form action="https://www.baidu.com" method="get"&gt;
   &lt;input type="password" name="password"&gt;
   &lt;input type="submit" value="提交"&gt;
&lt;/form&gt;</code></pre><p>上述请求响应都没有问题<br>然而对于<code>AJAX</code>就不行</p>
<pre><code>...
request.open('GET', 'http://www.baidu.com')
...</code></pre><p><img src="http://upload-images.jianshu.io/upload_images/5422064-060a110b41a721c6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="同源的保护"></p>
<ul>
<li>这是为什么呢,因为</li>
</ul>
<blockquote>
<p>原页面用 form 提交到另一个域名之后，原页面的脚本无法获取新页面中的内容,所以浏览器认为这是安全的。<br>而 AJAX 是可以读取响应内容的，因此浏览器不能允许你这样做。如果你细心的话你会发现，其实请求已经发送出去了，你只是拿不到响应而已。<br>所以浏览器这个策略的本质是，一个域名的 JS ，在未经允许的情况下，不得读取另一个域名的内容。但浏览器并不阻止你向另一个域名发送请求。</p>
<p>作者：方应杭<br>链接：<a href="https://www.zhihu.com/question/31592553/answer/190789780" target="_blank" rel="noopener">https://www.zhihu.com/question/31592553/answer/190789780</a><br>来源：知乎<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>
</blockquote>
<hr>
<p>那么如何让<code>AJAX</code>跨域发起请求呢。<br>答案是<code>CORS</code></p>
<ol>
<li><code>CORS</code>目前是W3C的标准，它允许浏览器跨域发起<code>XMLHttpRequest</code>请求，而且可以发起多种请求，不像<code>JSONP</code>只能发起<code>GET</code>请求，全称是”跨域/源资源共享”（Cross-origin resource sharing）。<ul>
<li>如果想要发起跨域请求 例如: <a href="http://wushao.com:8001" target="_blank" rel="noopener">http://wushao.com:8001</a> 要想访问 **,可以做如下处理</li>
</ul>
</li>
</ol>
<pre><code> request.open('GET', 'http://wushao.com:8001/xxx') //配置request</code></pre><ul>
<li>服务器端的代码需要做如下处理</li>
</ul>
<pre><code>response.setHeader('Access-Control-Allow-Origin', '**')</code></pre><p>一定要注意是谁去访问谁,8001去访问8002,那么8001的前端代码要告诉8002的后端代码,咱们是一家人,你和浏览器说说别让它禁我了。</p>
<h4 id="AJAX一些其他知识"><a href="#AJAX一些其他知识" class="headerlink" title="AJAX一些其他知识"></a>AJAX一些其他知识</h4><p>既然可以发请求,那么请求头的四部分如何获得的,响应的四部分又是如何获得呢</p>
<h5 id="获得请求和响应头"><a href="#获得请求和响应头" class="headerlink" title="获得请求和响应头"></a>获得请求和响应头</h5><ol>
<li>获得请求头的方法</li>
</ol>
<pre><code>request.open('GET', '**/xxx')// 请求的第一部分
request.setRequestHeader('Content-Type', 'x-www-form-urlencoded')//请求的第二部分
request.setRequestHeader('wushao', '18') //请求的第二部分
request.send('我要设置请求的第四部分') //请求的第四部分
request.send('name=wushao&amp;password=wushao') //请求的第四部分</code></pre><p>对应的典型的http请求四部分</p>
<pre><code>GET /xxx HTTP/1.1
HOST: **
Content-Type: x-www-form-urlencoded
wushao: 18

name=wushao&amp;password=wushao</code></pre><ol>
<li>获得响应的方法</li>
</ol>
<pre><code>request.status //响应的第一部分 200
request.statusText //响应的第一部分 OK
request.getAllResponseHeaders //响应的第二部分,这个方法好啊,全部的响应头
request.getResponseHeader('Content-Type') //响应的第二部分具体的
request.responseText //响应的第四部分</code></pre><p>对应的典型的http响应的四部分</p>
<pre><code>HTTP/1.1 200 OK
Content-Type: text/json;charset=utf-8

{
      "note" : {
        "to" : "木木",
        "from" : "少少",
        "heading" : "你好哇",
        "content" : "好久不见啊"
      }
 }</code></pre><p>回顾一下各个status对应的意思</p>
<pre><code>100
200 === OK，请求成功
301 === 被请求的资源已永久移动到新位置
302 === 请求临时重定向，要求客户端执行临时重定向
304 === 和上次请求一样，未改变
403 === 服务器已经理解请求，但是拒绝访问
404 === 请求失败，服务器上没有这个资源
502 === 作为网关或者代理工作的服务器尝试执行请求时，从上游服务器接收到无效的响应。
503 === Service Unavailable 由于临时的服务器维护或者过载，服务器当前无法处理请求。</code></pre><h5 id="练习一下JQuery封装AJAX"><a href="#练习一下JQuery封装AJAX" class="headerlink" title="练习一下JQuery封装AJAX"></a>练习一下JQuery封装AJAX</h5><ol>
<li>初级的jq封装<br>这是一个很简陋的效果，首先我还是把jq假设的很简单，就是一个window的属性，请轻喷……</li>
</ol>
<pre><code>window.jQuery = function (nodeOrSelector) {
  let nodes = {}
  nodes.addClass = function () {}
  nodes.html = function () {}
  return nodes
}

window.jQuery.ajax = function (options) {
  let url = options.url
  let method = options.method
  let headers = options.headers
  let body = options.body
  let successFn = options.successFn
  let failFn = options.failFn

  let request = new XMLHttpRequest() //实例化XMLHttpRequest对象
  request.open(method, url) 
  for (let key in headers) {
    let value = headers[key]
    request.setRequestHeader(key, value)
  }
  request.onreadystatechange = () =&gt; {
    if (request.readyState === 4) {
      if (request.status &gt;= 200 &amp;&amp; request.status &lt;= 300) {
        successFn.call(undefined, request.responseText)
      } else if (request.status &gt;= 400)  {
        failFn.call(undefined, request)
      }
    }
  }
  request.send(body)
}</code></pre><p>以上就是jq对ajax的简陋的封装，ajax()方法接受一个对象作为参数，这个对象有很多键。这些键就是http请求的头的各个部分，以及一个成功函数和一个失败函数。</p>
<pre><code>myButton.addEventListener('click', (e) =&gt; {

  window.jQuery.ajax ({
    url: '/xxx',
    method: 'POST',
    headers: {
      'content-type': 'application/x-www-form-urlencoded',
      'wushao': '18'
    },
    body: 'a=1&amp;b=6', 
    successFn: (x) =&gt; {
     ...
    }, 
    failFn: (x) =&gt; {
     ...
    }
  }) 
})</code></pre><p>以上就是简化后的使用方法，给button绑定事件的时候，函数体直接就是ajax()</p>
<ol>
<li>目前你会发现options这个对象傻傻的，因为总有一些用户不希望只传一个参数。所以我们稍微改造一下。</li>
</ol>
<pre><code>let url
  if (arguments.length === 1) {
    url = options.url
  } else if (arguments.length === 2) {
     url = arguments[0]
     options = arguments[1]
  }

  let method = options.method
  let headers = options.headers
  let body = options.body
  let successFn = options.successFn
  let failFn = options.failFn</code></pre><p>加了一点，判断ajax()的参数个数。</p>
<ol>
<li>一千个人有一千零一个成功或失败函数的写法，所以为了维护世界和平，大家约定俗成了一套理论 <strong>Promise</strong> <strong>then( )</strong></li>
</ol>
<pre><code>//Promise这个对象呢，大概长这个样子，真实面目我是没见过
//简单的写一下promise
window.Promise = function (fn) {
//...一些其他代码
return {
  then: function () {}
 }
}</code></pre><p>Promise这个构造函数呢，又会返回一个函数，这个返回的函数一个then属性，value又是一个函数。处处都体现着函数是第一公民的地位！！！<br>那我们可以利用这个强大的Promise对象搞一些事情了。</p>
<pre><code>//第一步的代码改造成这样，第一步用到了ES6的解构赋值法
window.jQuery.ajax = function ({url, method, body, headers}) {
  return new Promise(function (resolve, reject) {
    let request = new XMLHttpRequest()
    request.open(method, url)

    for(let key in headers) {
      let value = headers[key]
      request.setRequestHeader(key, value)
    }

    request.onreadystatechange = () =&gt; {
      if (request.readyState === 4) {
        if (request.status &gt;= 200 &amp;&amp; request.status &lt;= 300) {
          resolve.call(undefined, request.responseText)
        } else if (request.status &gt;= 400) {
          reject.call(undefined, request)
        }
      }
    }
    request.send(body)
  })
}</code></pre><p>关于解构赋值：ES6 允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构（Destructuring）<br>详见<a href="http://es6.ruanyifeng.com/#docs/destructuring" target="_blank" rel="noopener">ES6解构赋值</a></p>
<pre><code>//经过上面这么一折腾，可以很简单的使用了
myButton.addEventListener('click', (e) =&gt; {
   let promise = window.jQuery.ajax({
     url: '/xxx',
     method: 'get',
     headers: {
      'content-type': 'application/x-www-form-urlencoded',
      'wushao': '18'
     }
   })

   promise.then(
     (responseText) =&gt; {
       console.log(responseText)
     },
     (request) =&gt; {
       console.log(request)
     }
   ) 
})</code></pre><p>注意then可以传入两个函数，第一个函数表示成功了执行这个，第二个函数表示失败了执行这个，而且可以进行链式调用，一直点下去。</p>
<ol>
<li>所以实际上jq的写法大多是这么写的</li>
</ol>
<pre><code>myButton.addEventListener('click', (e) =&gt; {
    $.ajax({
      url: '/xxx',
      type: 'GET',
    }).then(
      (responseText) =&gt; {
        console.log(responseText)
        return responseText
      },
      (request) =&gt; {
        console.log('error')
        return '已经处理'
      }
    ).then(
      (responseText) =&gt; {
        console.log(responseText)
      },
      (request) =&gt; {
        console.log(error2)
      }
    )

})</code></pre><p>链式调用的意思就是：成功函数成功了，就执行第二个then的第一个函数；成功函数失败了，就执行第二个then的第二个函数。</p>
<p>完整代码详见<a href="https://github.com/codevvvv9/AJAXDemo_nodeJsServer" target="_blank" rel="noopener">我的gitHub</a></p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>吴少林
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://codevvvv9.github.io/2018/01/31/ajax-de-chu-xian-yu-kua-yu/" title="AJAX的出现与跨域">https://codevvvv9.github.io/2018/01/31/ajax-de-chu-xian-yu-kua-yu/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/AJAX/" rel="tag"># AJAX</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2018/01/23/po-jie-liu-lan-qi-tong-yuan-zheng-ce-li-qi-zhi-jsonp/" rel="prev" title="破解浏览器同源政策利器之JSONP">
      <i class="fa fa-chevron-left"></i> 破解浏览器同源政策利器之JSONP
    </a></div>
      <div class="post-nav-item">
    <a href="/2018/02/03/ke-xue-shang-wang/" rel="next" title="科学上网">
      科学上网 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#如何发请求"><span class="nav-number">1.</span> <span class="nav-text">如何发请求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AJAX出现"><span class="nav-number">2.</span> <span class="nav-text">AJAX出现</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#浏览器和服务器交互模式-V1-0"><span class="nav-number">2.1.</span> <span class="nav-text">浏览器和服务器交互模式 V1.0</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#交互模式2-0"><span class="nav-number">2.2.</span> <span class="nav-text">交互模式2.0</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#XMLHttpRequest"><span class="nav-number">2.3.</span> <span class="nav-text">XMLHttpRequest</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#XMLHttpRequest实例的详解"><span class="nav-number">2.4.</span> <span class="nav-text">XMLHttpRequest实例的详解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JSON"><span class="nav-number">2.5.</span> <span class="nav-text">JSON</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CORS"><span class="nav-number">2.6.</span> <span class="nav-text">CORS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#AJAX一些其他知识"><span class="nav-number">2.7.</span> <span class="nav-text">AJAX一些其他知识</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#获得请求和响应头"><span class="nav-number">2.7.1.</span> <span class="nav-text">获得请求和响应头</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#练习一下JQuery封装AJAX"><span class="nav-number">2.7.2.</span> <span class="nav-text">练习一下JQuery封装AJAX</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="吴少林"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">吴少林</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">57</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">19</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/codevvvv9" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;codevvvv9" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://www.jianshu.com/u/15af43443bdb" title="简书 → http:&#x2F;&#x2F;www.jianshu.com&#x2F;u&#x2F;15af43443bdb" rel="noopener" target="_blank"><i class="fa fa-fw fa-rss-square"></i>简书</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://juejin.im/user/5821e3d8bf22ec0068e631e2" title="掘金 → https:&#x2F;&#x2F;juejin.im&#x2F;user&#x2F;5821e3d8bf22ec0068e631e2" rel="noopener" target="_blank"><i class="fa fa-fw fa-balance-scale"></i>掘金</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/wu-lin-25-41/posts" title="知乎 → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;wu-lin-25-41&#x2F;posts" rel="noopener" target="_blank"><i class="fa fa-fw fa-book"></i>知乎</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2017 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heartbeat"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">吴少林</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
