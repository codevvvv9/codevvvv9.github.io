<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.6 -->
    <script>
        window.materialVersion = "1.5.6"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0',
            '1.5.2',
            '1.5.5'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">





    <link rel="dns-prefetch" href="https://imsun.github.io">





    <link rel="dns-prefetch" href="https://fonts.googleapis.com">





    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            node-sass安装失败的究极解决方法.md | 
        
        WuShaoLin&#39;s Blog
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/tiger.png">
    <link rel="icon" href="/img/tiger.png">

    <meta name="format-detection" content="telephone=no">
    <meta name="description" itemprop="description" content="
记录一下安装node-sass的过程.关于CSS是不是一门编程语言,这里不讨论,但是它没有变量 语句 函数(反正我觉得他不是编程语言).于是程序员们发明了CSS预处理器(css preprocessor),它是一种专门的编程语言,可以使用你会的基本的编程知识进行编程,然后再转化成css文件.

12月更新本次重新安装node-sass是因为电脑换了固态重装系统了，在新系统下很长时间内没有用过sass，一切都是那个风平浪静，直到11月的最后一晚，想折腾一下博客，看到一个好看的主题，这个主题需要安装两个插件，其中有一个需要node-sass的加持。
123$ git clone https://github.com/tufu9441/maupassant-hexo.git themes/maupassant$ npm install hexo-renderer-pug --save$ npm install hexo-renderer-sass --save  #就是这货
不出意外的，国内不采取特殊途径，hexo-renderer-sass安装报错，根据log日志，很容易的发现，他需`node-sass@4.10.0`支持，但是下载失败。

解决方案1：先在global下安装node-sass

重装后我全是采用的nvm管理的node版本，所有的包都在.nvm目录下，避免权限不够的错误(或者采取分割线以下的阮一峰老师的方法避免包权限的问题)。
配置.npmrc，先touch ~/.npmrc。这次直接采取node-sass的官方推荐的方式，npm install -g mirror-config-china --registry=http://registry.npm.taobao.org，所有的国内有问题的包全都避免了。
结果竟然无法下载，log日志提醒我可能是代理的问题，可能是我的FQ的系统代理有问题，去控制台一看，果然SOCKETS 有个错误，尝试使用npm添加代理的方式，均告失败，毕竟以后也不能总靠代理过日子，这个方式不可取。这次想找个一劳永逸的方式彻底解决这个垃圾问题。
终于发现了，直接使用下载好的Realease包去安装，先去node-sass主页下载系统需要的类型，这个完全可以解决系统不同的问题，很具用普适性。
到底你的系统需要那个具体的包呢，这个就是最关键的了，我的方式是：先安装，失败后会提示你哪个版本的node包无法下载，这个时候再去下载这个包。通过如下代码去安装：

12npm i -g node-sass@4.9.3 --sass_binary_path=/home/wsl/Downloads/chromeDownloads/linux-x64-64_binding.node# path需要替换成你系统的那个包名字
But我以为下载成功了，就万事大吉了呢，发现我真是太天真了。安装完后第一件事就是检验安装的包能不能用，node-sass -v一下，最不济出现个node-sass not found这种类似的初级错误啊，结果报了个无语的错误。

这个目录是node-sass规定的

为啥没有这个目录呢，因为通过 我采用的是设置本地下载路径，没有通过网上的下载。所以需要手动建立一个vendor目录（issues里面通过npm rebulid node-sass可以解决，但是我没生效），接着会报第二个新错误，这就很合理了，报错一点不可怕，能看懂并解决掉就很是进步。



新的错误是需要binding.node文件，刚才建立的vendor是个空目录所以找不到，在其内部建立二级目录，并把刚才下载的包改名为binding.node，即vendor/linux-X64-64/binding.node
至此，本地安装node-sass完毕，以后可以随便玩node-sass了，管你能不能翻墙，能不能设置镜像。

本来以为全局安装完毕就可以在博客目录下直接安装hexo-renderer-sass，竟然还是报错。没办法，在newBlog目录下又按照上述的方法安装了一个`node-sass@4.10.0，因为hexo-render-sass`需要4.10.0版本。最后终于成功了。


分割线以下为传统解决方法，尤其针对Linux用户

介绍主流的CSS预处理器有8种,我们今天介绍sass.它的官网,不过需要安装ruby.">
    <meta name="keywords" content=",Sass">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?NKhlKQkXw/c66TR5p4wO+w==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/bg.png);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="WuShaoLin&#39;s Blog">
    <meta name="msapplication-starturl" content="https://codevvvv9.github.io/2018/01/19/node-sass安装失败的究极解决方法/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="WuShaoLin&#39;s Blog">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/tiger.png">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="https://codevvvv9.github.io/2018/01/19/node-sass安装失败的究极解决方法/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="node-sass安装失败的究极解决方法.md | WuShaoLin&#39;s Blog">
    <meta property="og:image" content="/img/tiger.png">
    <meta property="og:description" content="
记录一下安装node-sass的过程.关于CSS是不是一门编程语言,这里不讨论,但是它没有变量 语句 函数(反正我觉得他不是编程语言).于是程序员们发明了CSS预处理器(css preprocessor),它是一种专门的编程语言,可以使用你会的基本的编程知识进行编程,然后再转化成css文件.

12月更新本次重新安装node-sass是因为电脑换了固态重装系统了，在新系统下很长时间内没有用过sass，一切都是那个风平浪静，直到11月的最后一晚，想折腾一下博客，看到一个好看的主题，这个主题需要安装两个插件，其中有一个需要node-sass的加持。
123$ git clone https://github.com/tufu9441/maupassant-hexo.git themes/maupassant$ npm install hexo-renderer-pug --save$ npm install hexo-renderer-sass --save  #就是这货
不出意外的，国内不采取特殊途径，hexo-renderer-sass安装报错，根据log日志，很容易的发现，他需`node-sass@4.10.0`支持，但是下载失败。

解决方案1：先在global下安装node-sass

重装后我全是采用的nvm管理的node版本，所有的包都在.nvm目录下，避免权限不够的错误(或者采取分割线以下的阮一峰老师的方法避免包权限的问题)。
配置.npmrc，先touch ~/.npmrc。这次直接采取node-sass的官方推荐的方式，npm install -g mirror-config-china --registry=http://registry.npm.taobao.org，所有的国内有问题的包全都避免了。
结果竟然无法下载，log日志提醒我可能是代理的问题，可能是我的FQ的系统代理有问题，去控制台一看，果然SOCKETS 有个错误，尝试使用npm添加代理的方式，均告失败，毕竟以后也不能总靠代理过日子，这个方式不可取。这次想找个一劳永逸的方式彻底解决这个垃圾问题。
终于发现了，直接使用下载好的Realease包去安装，先去node-sass主页下载系统需要的类型，这个完全可以解决系统不同的问题，很具用普适性。
到底你的系统需要那个具体的包呢，这个就是最关键的了，我的方式是：先安装，失败后会提示你哪个版本的node包无法下载，这个时候再去下载这个包。通过如下代码去安装：

12npm i -g node-sass@4.9.3 --sass_binary_path=/home/wsl/Downloads/chromeDownloads/linux-x64-64_binding.node# path需要替换成你系统的那个包名字
But我以为下载成功了，就万事大吉了呢，发现我真是太天真了。安装完后第一件事就是检验安装的包能不能用，node-sass -v一下，最不济出现个node-sass not found这种类似的初级错误啊，结果报了个无语的错误。

这个目录是node-sass规定的

为啥没有这个目录呢，因为通过 我采用的是设置本地下载路径，没有通过网上的下载。所以需要手动建立一个vendor目录（issues里面通过npm rebulid node-sass可以解决，但是我没生效），接着会报第二个新错误，这就很合理了，报错一点不可怕，能看懂并解决掉就很是进步。



新的错误是需要binding.node文件，刚才建立的vendor是个空目录所以找不到，在其内部建立二级目录，并把刚才下载的包改名为binding.node，即vendor/linux-X64-64/binding.node
至此，本地安装node-sass完毕，以后可以随便玩node-sass了，管你能不能翻墙，能不能设置镜像。

本来以为全局安装完毕就可以在博客目录下直接安装hexo-renderer-sass，竟然还是报错。没办法，在newBlog目录下又按照上述的方法安装了一个`node-sass@4.10.0，因为hexo-render-sass`需要4.10.0版本。最后终于成功了。


分割线以下为传统解决方法，尤其针对Linux用户

介绍主流的CSS预处理器有8种,我们今天介绍sass.它的官网,不过需要安装ruby.">
    <meta property="og:article:tag" content="Sass"> 

    
        <meta property="article:published_time" content="Fri Jan 19 2018 23:24:07 GMT+0800">
        <meta property="article:modified_time" content="Sat Dec 01 2018 18:53:56 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="https://codevvvv9.github.io/2018/01/19/node-sass安装失败的究极解决方法/index.html">
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "https://codevvvv9.github.io/2018/01/19/node-sass安装失败的究极解决方法/index.html",
    "headline": "node-sass安装失败的究极解决方法.md",
    "datePublished": "Fri Jan 19 2018 23:24:07 GMT+0800",
    "dateModified": "Sat Dec 01 2018 18:53:56 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "shaolin-wu",
        "image": {
            "@type": "ImageObject",
            "url": "/img/avatar.jpeg"
        },
        "description": "悟已往之不谏，知来者之可追"
    },
    "publisher": {
        "@type": "Organization",
        "name": "WuShaoLin&#39;s Blog",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/tiger.png"
        }
    },
    "keywords": ",Sass",
    "description": "
记录一下安装node-sass的过程.关于CSS是不是一门编程语言,这里不讨论,但是它没有变量 语句 函数(反正我觉得他不是编程语言).于是程序员们发明了CSS预处理器(css preprocessor),它是一种专门的编程语言,可以使用你会的基本的编程知识进行编程,然后再转化成css文件.

12月更新本次重新安装node-sass是因为电脑换了固态重装系统了，在新系统下很长时间内没有用过sass，一切都是那个风平浪静，直到11月的最后一晚，想折腾一下博客，看到一个好看的主题，这个主题需要安装两个插件，其中有一个需要node-sass的加持。
123$ git clone https://github.com/tufu9441/maupassant-hexo.git themes/maupassant$ npm install hexo-renderer-pug --save$ npm install hexo-renderer-sass --save  #就是这货
不出意外的，国内不采取特殊途径，hexo-renderer-sass安装报错，根据log日志，很容易的发现，他需`node-sass@4.10.0`支持，但是下载失败。

解决方案1：先在global下安装node-sass

重装后我全是采用的nvm管理的node版本，所有的包都在.nvm目录下，避免权限不够的错误(或者采取分割线以下的阮一峰老师的方法避免包权限的问题)。
配置.npmrc，先touch ~/.npmrc。这次直接采取node-sass的官方推荐的方式，npm install -g mirror-config-china --registry=http://registry.npm.taobao.org，所有的国内有问题的包全都避免了。
结果竟然无法下载，log日志提醒我可能是代理的问题，可能是我的FQ的系统代理有问题，去控制台一看，果然SOCKETS 有个错误，尝试使用npm添加代理的方式，均告失败，毕竟以后也不能总靠代理过日子，这个方式不可取。这次想找个一劳永逸的方式彻底解决这个垃圾问题。
终于发现了，直接使用下载好的Realease包去安装，先去node-sass主页下载系统需要的类型，这个完全可以解决系统不同的问题，很具用普适性。
到底你的系统需要那个具体的包呢，这个就是最关键的了，我的方式是：先安装，失败后会提示你哪个版本的node包无法下载，这个时候再去下载这个包。通过如下代码去安装：

12npm i -g node-sass@4.9.3 --sass_binary_path=/home/wsl/Downloads/chromeDownloads/linux-x64-64_binding.node# path需要替换成你系统的那个包名字
But我以为下载成功了，就万事大吉了呢，发现我真是太天真了。安装完后第一件事就是检验安装的包能不能用，node-sass -v一下，最不济出现个node-sass not found这种类似的初级错误啊，结果报了个无语的错误。

这个目录是node-sass规定的

为啥没有这个目录呢，因为通过 我采用的是设置本地下载路径，没有通过网上的下载。所以需要手动建立一个vendor目录（issues里面通过npm rebulid node-sass可以解决，但是我没生效），接着会报第二个新错误，这就很合理了，报错一点不可怕，能看懂并解决掉就很是进步。



新的错误是需要binding.node文件，刚才建立的vendor是个空目录所以找不到，在其内部建立二级目录，并把刚才下载的包改名为binding.node，即vendor/linux-X64-64/binding.node
至此，本地安装node-sass完毕，以后可以随便玩node-sass了，管你能不能翻墙，能不能设置镜像。

本来以为全局安装完毕就可以在博客目录下直接安装hexo-renderer-sass，竟然还是报错。没办法，在newBlog目录下又按照上述的方法安装了一个`node-sass@4.10.0，因为hexo-render-sass`需要4.10.0版本。最后终于成功了。


分割线以下为传统解决方法，尤其针对Linux用户

介绍主流的CSS预处理器有8种,我们今天介绍sass.它的官网,不过需要安装ruby.",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn" class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#12月更新"><span class="post-toc-number">1.</span> <span class="post-toc-text">12月更新</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#介绍"><span class="post-toc-number">2.</span> <span class="post-toc-text">介绍</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#安装"><span class="post-toc-number">3.</span> <span class="post-toc-text">安装</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#问题出现"><span class="post-toc-number">4.</span> <span class="post-toc-text">问题出现</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#第一个错误"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">第一个错误</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Linux"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">Linux</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#版本管理工具"><span class="post-toc-number">4.3.</span> <span class="post-toc-text">版本管理工具</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#手动更改npm目录"><span class="post-toc-number">4.4.</span> <span class="post-toc-text">手动更改npm目录</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#安装小总结"><span class="post-toc-number">5.</span> <span class="post-toc-text">安装小总结</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#node-sass的简单使用"><span class="post-toc-number">6.</span> <span class="post-toc-text">node-sass的简单使用</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#加油啊-sass"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">加油啊,sass</span></a></li></ol></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 15 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                node-sass安装失败的究极解决方法.md
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.jpeg" width="44px" height="44px" alt="Author Avatar">
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>shaolin-wu</strong>
        <span>1月 19, 2018</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/Sass/">Sass</a>
    </li></ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=node-sass安装失败的究极解决方法.md&url=https://codevvvv9.github.io/2018/01/19/node-sass安装失败的究极解决方法/index.html&pic=https://codevvvv9.github.io/img/tiger.png&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=node-sass安装失败的究极解决方法.md&url=https://codevvvv9.github.io/2018/01/19/node-sass安装失败的究极解决方法/index.html&via=shaolin-wu" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=https://codevvvv9.github.io/2018/01/19/node-sass安装失败的究极解决方法/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=https://codevvvv9.github.io/2018/01/19/node-sass安装失败的究极解决方法/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    
        <a class="post_share-link" href="https://www.linkedin.com/shareArticle?mini=true&url=https://codevvvv9.github.io/2018/01/19/node-sass安装失败的究极解决方法/index.html&title=node-sass安装失败的究极解决方法.md" target="_blank">
            <li class="mdl-menu__item">
                分享到 LinkedIn
            </li>
        </a>
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <blockquote>
<p>记录一下安装node-sass的过程.关于CSS是不是一门编程语言,这里不讨论,但是它没有变量 语句 函数(反正我觉得他不是编程语言).于是程序员们发明了CSS预处理器(css preprocessor),它是一种专门的编程语言,可以使用你会的基本的编程知识进行编程,然后再转化成css文件.</p>
</blockquote>
<h3 id="12月更新"><a href="#12月更新" class="headerlink" title="12月更新"></a>12月更新</h3><p>本次重新安装<code>node-sass</code>是因为电脑换了固态重装系统了，在新系统下很长时间内没有用过<code>sass</code>，一切都是那个风平浪静，直到11月的最后一晚，想折腾一下博客，看到一个好看的主题，这个主题需要安装两个插件，其中有一个需要<code>node-sass</code>的加持。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git clone https://github.com/tufu9441/maupassant-hexo.git themes/maupassant</span><br><span class="line"><span class="meta">$</span> npm install hexo-renderer-pug --save</span><br><span class="line"><span class="meta">$</span> npm install hexo-renderer-sass --save  #就是这货</span><br></pre></td></tr></table></figure>
<p>不出意外的，国内不采取特殊途径，<code>hexo-renderer-sass</code>安装报错，根据<code>log日志</code>，很容易的发现，他需<a href="mailto:`node-sass@4.10.0" target="_blank" rel="noopener">`node-sass@4.10.0</a>`支持，但是下载失败。</p>
<ol>
<li><p>解决方案1：先在<code>global</code>下安装<code>node-sass</code></p>
<ul>
<li>重装后我全是采用的<code>nvm</code>管理的<code>node</code>版本，所有的包都在<code>.nvm</code>目录下，避免权限不够的错误(或者采取分割线以下的阮一峰老师的方法避免包权限的问题)。</li>
<li>配置<code>.npmrc</code>，先<code>touch ~/.npmrc</code>。这次直接采取<code>node-sass</code>的<a href="https://github.com/sass/node-sass" target="_blank" rel="noopener">官方推荐的方式</a>，<code>npm install -g mirror-config-china --registry=http://registry.npm.taobao.org</code>，所有的国内有问题的包全都避免了。</li>
<li>结果竟然无法下载，<code>log日志</code>提醒我可能是代理的问题，可能是我的<code>FQ</code>的系统代理有问题，去控制台一看，果然<code>SOCKETS 有个错误</code>，尝试使用<code>npm</code>添加代理的方式，均告失败，毕竟以后也不能总靠代理过日子，这个方式不可取。这次想找个一劳永逸的方式彻底解决这个垃圾问题。</li>
<li>终于发现了，直接使用下载好的<code>Realease</code>包去安装，先去<a href="https://github.com/sass/node-sass/releases" target="_blank" rel="noopener">node-sass主页</a>下载系统需要的类型，这个完全可以解决系统不同的问题，很具用普适性。</li>
<li>到底你的系统需要那个具体的包呢，这个就是最关键的了，我的方式是：先安装，失败后会提示你<code>哪个版本的node包</code>无法下载，这个时候再去下载这个包。通过如下代码去安装：</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i -g node-sass@4.9.3 --sass_binary_path=/home/wsl/Downloads/chromeDownloads/linux-x64-64_binding.node</span><br><span class="line"><span class="meta">#</span> path需要替换成你系统的那个包名字</span><br></pre></td></tr></table></figure>
<p><code>But</code>我以为下载成功了，就万事大吉了呢，发现我真是太天真了。安装完后第一件事就是检验安装的包能不能用，<code>node-sass -v</code>一下，最不济出现个<code>node-sass not found</code>这种类似的初级错误啊，结果报了个无语的错误。</p>
<p><img src="https://i.loli.net/2018/12/01/5c02610b47259.png" alt="找不到vendor目录"></p>
<p>这个目录是<code>node-sass</code>规定的</p>
<p><img src="https://i.loli.net/2018/12/01/5c0263e5ad309.png" alt="node-sass-package.json"></p>
<p>为啥没有这个目录呢，因为通过 我采用的是设置本地下载路径，没有通过网上的下载。所以需要手动建立一个<code>vendor</code>目录（<code>issues里面通过npm rebulid node-sass可以解决，但是我没生效</code>），接着会报第二个新错误，这就很合理了，报错一点不可怕，能看懂并解决掉就很是进步。</p>
</li>
</ol>
<p><img src="https://i.loli.net/2018/12/01/5c02637aed955.png" alt="找不到binding文件"></p>
<p>新的错误是需要<code>binding.node</code>文件，刚才建立的<code>vendor</code>是个空目录所以找不到，在其内部建立二级目录，并把刚才下载的包改名为<code>binding.node</code>，即<code>vendor/linux-X64-64/binding.node</code></p>
<p><strong>至此，本地安装<code>node-sass</code></strong>完毕，以后可以随便玩<code>node-sass</code>了，管你能不能翻墙，能不能设置镜像。</p>
<ol start="2">
<li>本来以为全局安装完毕就可以在博客目录下直接安装<code>hexo-renderer-sass</code>，竟然还是报错。没办法，在<code>newBlog</code>目录下又<strong>按照上述的方法</strong>安装了一个<a href="mailto:`node-sass@4.10.0" target="_blank" rel="noopener">`node-sass@4.10.0</a><code>，因为</code>hexo-render-sass`需要4.10.0版本。最后终于成功了。</li>
</ol>
<p><img src="https://i.loli.net/2018/12/01/5c0266bae321d.png" alt="安装成功"></p>
<p><strong>分割线以下为传统解决方法，尤其针对Linux用户</strong></p>
<hr>
<h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>主流的CSS预处理器有<a href="https://www.catswhocode.com/blog/8-css-preprocessors-to-speed-up-development-time" target="_blank" rel="noopener">8种</a>,我们今天介绍<code>sass</code>.它的<a href="http://sass-lang.com/" target="_blank" rel="noopener">官网</a>,不过需要安装ruby.</p>
<a id="more"></a>
<ul>
<li>不想安ruby,那就借助node安装<code>node-sass</code>吧.github<a href="https://github.com/sass/node-sass" target="_blank" rel="noopener">主页</a></li>
<li>本人是<code>deepin Linux 15.5</code>版本<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3></li>
<li><p>由于node-sass会去github主页下载binding-node,然后又去亚马逊去下载,所以国内因为一些不可抗力无法下载.简单的进行如下的设置,都是初学者,我就不用命令的形式写了,下面直接写上内容.基本的命令用多了也就会了.</p>
<ul>
<li><p>在主目录下建立一个.npmrc的文件,在里面加上</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sass_binary_site=https://npm.taobao.org/mirrors/node-sass/</span><br><span class="line">phantomjs_cdnurl=https://npm.taobao.org/mirrors/phantomjs/</span><br><span class="line">electron_mirror=https://npm.taobao.org/mirrors/electron/</span><br><span class="line">registry=https://registry.npm.taobao.org/</span><br><span class="line">//顺序好像会有影响,我一开始不是这个顺序,后来改成这个,能安装成功</span><br></pre></td></tr></table></figure>
</li>
<li><p>还必须在主目录的.bashrc下添加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export SASS_BINARY_SITE=&quot;https://npm.taobao.org/mirrors/node-sass&quot;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>好了,按理说可以用如下命令正常安装了,但是出问题了.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">npm i -g node-sass</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="问题出现"><a href="#问题出现" class="headerlink" title="问题出现"></a>问题出现</h3><h4 id="第一个错误"><a href="#第一个错误" class="headerlink" title="第一个错误"></a>第一个错误</h4><ol>
<li>用了上述的命令,我第一次就报错,Error显示说<em>权限不够</em>,我果断用了</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm i  -g node-sass</span><br></pre></td></tr></table></figure>
<ul>
<li>恩,然后就是无休止的错误,ctrl+c终止后,发现node_modules里面有node-sass,但是明显不能用.去github的issue上搜,大神都是用了<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm rebulid node-sass</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>然而成功是属于其他人的.</p>
<ul>
<li>我试了一下,又是报错, 还是权限不够,我又加了<code>sudo</code>.</li>
<li>恩,又是报错.此时我很烦,你说没权限,我加了权限你又报错,这个死循环…….</li>
<li>没办法,生活还要继续,又去stackoverflow和github上搜,在node-sass的项目的<code>Troubleshooting</code>上发现了问题所在,如下是<a href="https://github.com/sass/node-sass/blob/master/TROUBLESHOOTING.md#cannot-find-module-rootinstalljs" target="_blank" rel="noopener">Linux部分的官方文档</a></li>
</ul>
<blockquote>
<h4 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h4><p>This can happen if you are install node-sass as <code>root</code>, or globally with <code>sudo</code>. This is a security feature of <code>npm</code>. You should always avoid running <code>npm</code> as <code>sudo</code> because install scripts can be unintentionally malicious. Please check <a href="https://docs.npmjs.com/getting-started/fixing-npm-permissions" target="_blank" rel="noopener">npm documentation on fixing permissions</a>.<br>If you must however, you can work around this error by using the <code>--unsafe-perm</code> flag with npm install i.e.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; $ sudo npm install --unsafe-perm -g node-sass</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>If this didn’t solve your problem please open an issue with the output from <a href="https://github.com/sass/node-sass/blob/master/TROUBLESHOOTING.md#debugging-installation-issues" target="_blank" rel="noopener">our debugging script</a>.</p>
</blockquote>
<ul>
<li>文档说: 当你用root角色或者全局使用sudo命令安装的时候,就会发生这个错误.(-妈个鸡,我就是全局安装node-sass啊),不过人家说了,这是npm的安全特性.(-你牛你说啥都行),你应该总是避免使用sudo去执行npm,因为安装脚本会发生意想不到的致命错误(-确实意想不到,以前我都是sudo安装模块,就这次栽了,不过你倒是说咋解决啊),请左转去npm的官方文档(- 这是重点,解决方法就在这里),如果你非要用sudo,用下面的命令吧…………..<strong>如果这些仍没有解决你的问题,请看了我们的debugging脚本里面的解决方法在开启一个新的issue吧(如果大家还有和我不一样的错误,这里有很多解决方法)<a href="https://github.com/sass/node-sass/blob/master/TROUBLESHOOTING.md#debugging-installation-issues" target="_blank" rel="noopener">our debugging script</a></strong>.</li>
<li>好了,翻译完了,咱们去npm的第三章去看看咋解决.</li>
<li><a href="https://docs.npmjs.com/getting-started/fixing-npm-permissions" target="_blank" rel="noopener">第三章</a>写的写的很明白.</li>
</ul>
<ol start="2">
<li>如何避免权限错误<br> 下面是文档原文<blockquote>
<p>If you see an EACCES error when you try to install a package globally, read this chapter. This error can be avoided if you change the directory where npm is installed. To do this, either:<br>Reinstall npm with a version manager (recommended),<br>or<br>Change npm’s default directory manually.</p>
</blockquote>
</li>
</ol>
<p>它说:如果你尝试安装一个全局的包,遇到了权限的错误,应该读读这一章.如果npm被安装的时候你改变了npm的目录,这个错误就会被避免(- 言下之意,就是让你改目录,就可以避免不能操作/usr/local/底下的内容了,你或者可以改变目录的权限 <code>chmod [mode] dir</code>,效果应该一样的,我没试过,而且官方也没说),要想做到这个,要么用版本管理工具重装npm(- 官方推荐的),要么就手动改变npm的默认目录(我用的这个).</p>
<ul>
<li>好了,翻译完了,如果你想用官方推荐的方法就用版本管理工具重装npm,就去看文档的<a href="https://docs.npmjs.com/getting-started/installing-nodehttps://docs.npmjs.com/getting-started/installing-node" target="_blank" rel="noopener">第二章</a><h4 id="版本管理工具"><a href="#版本管理工具" class="headerlink" title="版本管理工具"></a>版本管理工具</h4></li>
<li>官方推荐用<a href="https://github.com/creationix/nvm/blob/master/README.md#installation" target="_blank" rel="noopener">nvm</a>,我以前误打误撞安了一个TJ大神(尤雨溪的偶像)的n模块( 不会用,就会升级,好尴尬啊)</li>
<li>还有一个<blockquote>
<p>If you are using npm version 5.2 or greater, explore tools such as <a href="https://www.npmjs.com/package/npx" target="_blank" rel="noopener">npx</a> to circumvent permissions issues.</p>
</blockquote>
</li>
</ul>
<p>如果你的npm版本是5.2以上,可以用npx(又是好尴尬,我有npx,也不会用…..)</p>
<ul>
<li><p>还有特别火的小猫<a href="https://github.com/yarnpkg/yarn" target="_blank" rel="noopener">yarn</a>,快30000的star了(不过我没用……)</p>
</li>
<li><p>恩,前端的世界很精彩啊.</p>
<h4 id="手动更改npm目录"><a href="#手动更改npm目录" class="headerlink" title="手动更改npm目录"></a>手动更改npm目录</h4></li>
</ul>
<blockquote>
<p>Back-up your computer before moving forward.<br>Make a directory for global installations:<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; mkdir ~/.npm-global</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>Configure npm to use the new directory path:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; npm config set prefix &apos;~/.npm-global&apos;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>Open or create a ~/.profile file and add this line:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; export PATH=~/.npm-global/bin:$PATH</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>Back on the command line, update your system variables:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; source ~/.profile</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>Instead of steps 2-4, you can use the corresponding ENV variable (e.g. if you don’t want to modify ~/.profile):<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; NPM_CONFIG_PREFIX=~/.npm-global</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<ul>
<li>官方确实够详细,也能用,你不想麻烦,就在环境变量里面<code>NPM_CONFIG_PREFIX=~/.npm-global</code></li>
<li>我试过这个方法,不过建立的<code>.npm-global</code>隐藏得太深了,<code>ctrl+H</code>都看不到它,我就采用了阮一峰大神的<a href="http://javascript.ruanyifeng.com/nodejs/npm.html#toc10" target="_blank" rel="noopener">方法</a>,方法还是要用大神的博客的方法或者官方的啊.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">首先，在主目录下新建配置文件.npmrc，然后在该文件中将prefix变量定义到主目录下面。</span><br><span class="line"></span><br><span class="line">prefix = /home/yourUsername/npm</span><br><span class="line"></span><br><span class="line">然后在主目录下新建npm子目录。</span><br><span class="line"></span><br><span class="line">mkdir ~/npm</span><br><span class="line"></span><br><span class="line">此后，全局安装的模块都会安装在这个子目录中，npm也会到~/npm/bin目录去寻找命令。</span><br><span class="line">最后，将这个路径在.bash_profile文件（或.bashrc文件）中加入PATH变量。</span><br><span class="line"></span><br><span class="line">export PATH=~/npm/bin:$PATH</span><br></pre></td></tr></table></figure>
<ul>
<li><p>做完这个之后,全局卸载不能用的node-sass,再<code>npm i -g node-sass</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 卸载全局模块</span><br><span class="line">$ npm uninstall [package name] -global</span><br></pre></td></tr></table></figure>
</li>
<li><p>很遗憾,旧目录的没删成功,不过新目录的能用就行……………………</p>
<h3 id="安装小总结"><a href="#安装小总结" class="headerlink" title="安装小总结"></a>安装小总结</h3></li>
</ul>
<hr>
<p><strong>1. 一定不要用sudo安装,先手动改npm的目录</strong><br><strong>2. 更改.npmrc 和 .bashrc</strong><br><strong>3. <code>npm i -g node-sass</code></strong><br><strong><em>4. 英语多学点,文档多看点,命令行多用点.</em></strong></p>
<hr>
<h3 id="node-sass的简单使用"><a href="#node-sass的简单使用" class="headerlink" title="node-sass的简单使用"></a>node-sass的简单使用</h3><ul>
<li><p>它的使用方法和ruby的sass有一点小区别</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node-sass -wr scss -o css</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/sass/node-sass" target="_blank" rel="noopener">官方使用手册</a></p>
</li>
<li><a href="http://www.ruanyifeng.com/blog/2012/06/sass.html" target="_blank" rel="noopener">阮一峰教程</a></li>
</ul>
<h4 id="加油啊-sass"><a href="#加油啊-sass" class="headerlink" title="加油啊,sass"></a>加油啊,sass</h4>
        
                <blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;">
                    <p><strong>
                         
                            This blog is under a <a href="/creativecommons.html" target="_blank">CC BY-NC-SA 3.0 Unported License</a>
                        </strong>
                        <br>
                        <strong>本文链接：</strong><a href="https://codevvvv9.github.io/2018/01/19/node-sass安装失败的究极解决方法/">https://codevvvv9.github.io/2018/01/19/node-sass安装失败的究极解决方法/</a>
                    </p>
                </blockquote>
        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 gitcoment -->
<div id="gitment-comment">
    <!-- Gitment 评论框 -->
<div id="container"></div>
</div>
<style>
    #gitment-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
    var gitment = new Gitment({
        id: 'https://codevvvv9.github.io/2018/01/19/node-sass安装失败的究极解决方法/', // 可选。默认为 location.href
        owner: 'codevvvv9',
        repo: 'gitalk-comments',
        oauth: {
            client_id: 'eaa718397d7fb04087e1',
            client_secret: '4a3ec626703295108b5194694ecbe378502287eb',
        },
    })
    gitment.render('container')
</script>


                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2018/01/23/破解浏览器同源政策利器之JSONP/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2018/01/17/理解Event的冒泡模型/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.jpeg" alt="shaolin-wu's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        wslsdust@163.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="wslsdust@163.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2018/10/">十月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/09/">九月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/08/">八月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/05/">五月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/03/">三月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/02/">二月 2018<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/01/">一月 2018<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/12/">十二月 2017<span class="sidebar_archives-count">14</span></a>
            </li></ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/CSS学习/">CSS学习<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/HTML学习/">HTML学习<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/HTTP入门/">HTTP入门<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/HTTP高级知识/">HTTP高级知识<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/JS语法详解/">JS语法详解<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/categories/Linux入门/">Linux入门<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/Sass使用/">Sass使用<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Vue的学习/">Vue的学习<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/jQuery学习/">jQuery学习<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/三省吾身/">三省吾身<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/云音乐/">云音乐<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/前端之外/">前端之外<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/同源的问题以及解决思路/">同源的问题以及解决思路<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/同源的问题及解决思路/">同源的问题及解决思路<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/服务器原理学习/">服务器原理学习<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/自动打包工具/">自动打包工具<span class="sidebar_archives-count">1</span></a>
            </li></ul>
        </li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/about" title="About">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                About
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">38</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/shaolinwu1" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/codevvvv9" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    
        <a href="https://www.zhihu.com/people/wu-lin-25-41/activities" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-zhihu">
                <span class="visuallyhidden">Zhihu</span>
            </button><!--
     --></a>
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    

    <!-- V2EX -->
    

    <!-- Segmentfault -->
    
        <a href="https://segmentfault.com/u/codevvvv9" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-segmentfault">
                <span class="visuallyhidden">Segmentfault</span>
            </button><!--
     --></a>
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;<span year=""></span>&nbsp;WuShaoLin's Blog
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?Bn9UzEm8RrBSxqyZB0zPjA==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>









   <!-- Gitment -->





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    var copyrightNow = new Date().getFullYear();
    var textContent = document.querySelector('span[year]')

    copyrightSince = 2017;
    if (copyrightSince === copyrightNow||copyrightSince === 0000) {
        textContent.textContent = copyrightNow
    } else {
        textContent.textContent = copyrightSince + ' - ' + copyrightNow
    }

    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.6 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
